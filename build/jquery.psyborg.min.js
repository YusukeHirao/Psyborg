/**
 * Psyborg.js - v0.5.3beta r851
 * update: 2014-06-04
 * Author: Yusuke Hirao [http://www.yusukehirao.com]
 * Github: https://github.com/YusukeHirao/Psyborg
 * License: Licensed under the MIT License
 * Require: jQuery v1.11.0 or later
 */

(function(){"use strict";var a,b=this,c=(b.document,b.location),d=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c};!function(a){var b=function(){function a(){}return a.getSpeed=function(a,b){return a/b},a.getDuration=function(a,b){return a/b},a.getDistance=function(a,b){return a*b},a.getloopSeriesNumber=function(a,b){var c;return c=a%b,0===c?c:(0>a&&(c=b+Math.abs(a)%b*-1),c)},a.getloopSeriesVector=function(b,c,d,e){var f,g,h,i,j=0/0;if(0!==d&&1!==d&&-1!==d)throw new RangeError("`direction` is must 1 or -1 or zero.");return 0===d?(b=a.getloopSeriesNumber(b,e),c=a.getloopSeriesNumber(c,e),j=c>b?c-e:c+e,g=Math.abs(c-b),h=Math.abs(j-b),i=Math.min(g,h),f=g===i?b>c?-1*g:g:b>j?-1*h:h):b===c?f=e*d:c>b&&-1===d?(c=a.getloopSeriesNumber(c,e),j=c-e,f=j-b):b>c&&1===d?(c=a.getloopSeriesNumber(c,e),j=c+e,f=j-b):f=c-b,f},a}();a.Util=b}(a||(a={}));var a;!function(a){var b=function(){function a(a){this.defaultPrevented=!1,this.type=a,this.timeStamp=(new Date).valueOf()}return a.prototype.preventDefault=function(){this.defaultPrevented=!0},a}();a.PsyborgEvent=b}(a||(a={}));var a;!function(a){var b=function(){function b(){this._listeners={}}return b.prototype.on=function(a,b){for(var c=a.split(/\s+/),d=0,e=c.length;e>d;d++)this._listeners[c[d]]||(this._listeners[c[d]]=[]),this._listeners[c[d]].push(b)},b.prototype.off=function(a,b){for(var c,d=a.split(/\s+/),e=0,f=d.length;f>e;e++)c=d[e],(null==b||this._listeners[c]===b)&&delete this._listeners[c]},b.prototype.trigger=function(b,c,d){"undefined"==typeof c&&(c={}),"undefined"==typeof d&&(d=this);var e,f,g=0;if(this._listeners[b])for(f=this._listeners[b].length;f>g;g++){e=this._listeners[b][g];var h=new a.PsyborgEvent(b);if(h.data=c,e.call(d,h),h.defaultPrevented)return!1}return!0},b}();a.PsyborgEventDispacther=b}(a||(a={}));var a;!function(a){var b=function(a){function b(b){if(a.call(this),!b.length)throw new ReferenceError('This jQuery object is empty. Selector "'+b.selector+"\" doesn't exist.");this.$el=b}return d(b,a),b.prototype.trigger=function(b,c,d){"undefined"==typeof c&&(c={}),"undefined"==typeof d&&(d=this);var e=a.prototype.trigger.call(this,b,c,d);return e&&this.$el.trigger(b,c,d),e},b.prototype.getWidth=function(){return this.$el.width()},b.prototype.getHeight=function(){return this.$el.height()},b.prototype.setWidth=function(a){return this.$el.width(a),this},b.prototype.setHeight=function(a){return this.$el.height(a),this},b}(a.PsyborgEventDispacther);a.PsyborgElement=b}(a||(a={}));var a;!function(a){var d=function(){function a(){}return a.linkTo=function(a,d){switch("undefined"==typeof d&&(d=""),d){case"_blank":b.open(a,null);break;default:c.href=a}},a}();a.Window=d}(a||(a={}));var a;!function(a){var b=function(){function a(){}return a.posAbs=function(a,b,c){return"undefined"==typeof b&&(b=0),"undefined"==typeof c&&(c=0),a.css({position:"absolute",top:b,left:c})},a.posBase=function(a){var b=a.css("position");return(null==b||"static"===b||""===b)&&a.css({position:"relative"}),a},a.z=function(a,b){return"undefined"==typeof b&&(b=0),a.css({zIndex:b}),a},a.floating=function(a,b){return"undefined"==typeof b&&(b=!0),a.css({"float":b?"left":"none"}),a},a.isOverflowHidden=function(a){return"hidden"===a.css("overflow").toLowerCase()},a.saveCSS=function(a){a.each(function(a,b){var c=$(b);c.data("originStyle",c.attr("style"))})},a.restoreCSS=function(a){a.each(function(a,b){var c=$(b);c.attr("style",c.data("originStyle"))})},a}();a.StyleSheet=b}(a||(a={}));var a;!function(a){var c=function(c){function e(b,d){var e=this;c.call(this,b),this.index=0,this.vector=0,this.isTransition=!1,this.isPaused=!1,this.cloneCount=0;var f={instanceKey:"psycle",startIndex:0,transition:"slide",duration:600,easing:"swing",delay:3e3,auto:!0,cancel:!0,repeat:a.PsycleRepeat.RETURN,container:">ul:eq(0)",panels:">li",currentClass:"current",delayWhenFire:0,clone:2,cols:1,rows:1,offsetX:0,offsetY:0,nearby:!1,innerFocus:!1,noFocus:!0,resizable:!1,draggable:!1,swipeable:!1,dragBlockVertical:!1,bindKeyboard:!1,showOnlyOnce:null,controller:null,marker:null,thumbnail:null,css3:!0,loopCloneLength:null,scenes:[]};this._config=$.extend(f,d);var g=b,h=g.find(this._config.container),i=h.find(this._config.panels);if(this.panels=new a.PsyclePanelList(i),this.container=new a.PsycleContainer(h),this.stage=new a.PsycleStage(g,this.panels),this.transition=a.PsycleTransition.transitions[this._config.transition],null==this.transition)throw new ReferenceError("'"+this._config.transition+"' is not transition type");if((this._config.draggable||this._config.swipeable)&&!jQuery.fn.hammer&&!Hammer)throw new ReferenceError('"Hammer.js" is required when use "draggable" or "swipeable" options.');this.index=+this._config.startIndex||0,this.to=this.index,this.from=this.index,this.repeat=(""+this._config.repeat).toLowerCase(),this.length=this.panels.length,this.progressIndex=this.index,this._resizeable(),this._init(),this._silent(),this._config.auto&&this.play(),this.panels.on("load",function(){e._load()}),b.data(this._config.instanceKey,this)}return d(e,c),e.prototype.play=function(){var a=this,b=this.trigger("play");return b&&(clearTimeout(this.timer),this.timer=setTimeout(function(){a.next()},this._config.delay)),this},e.prototype.stop=function(){return clearTimeout(this.timer),this.isPaused=!0,this},e.prototype.freeze=function(){return this.animation&&this.animation.stop(),this},e.prototype.gotoPanel=function(a,b,c){var d=this;return"undefined"==typeof c&&(c=0),this.isTransition?this:(this._config.delayWhenFire?(clearTimeout(this._delayTimer),this._delayTimer=setTimeout(function(){d._transitionTo(a,b,c)},this._config.delayWhenFire)):this._transitionTo(a,b,c),this)},e.prototype.setIndex=function(a,b,c){"undefined"==typeof b&&(b=!0),"undefined"==typeof c&&(c=!1);var d=this._optimizeCounter(a);return c||d!==this.index?(this.vector=this._optimizeVector(d),this.stop(),this.from=this.index,this.to=d,this.progressIndex=a,b&&(this.index=d),!0):!1},e.prototype.prev=function(a){return this.isTransition?this:(this.gotoPanel(this.index-1,a,-1),this)},e.prototype.next=function(a){return this.isTransition?this:(this.gotoPanel(this.index+1,a,1),this)},e.prototype.reflow=function(b){return this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.REFLOW_METHOD,data:b}),this},e.prototype.isFirst=function(){return this._isFirst(this.index)},e.prototype.isLast=function(){return this._isLast(this.index)},e.prototype.marker=function(b){for(var c,d=this,e=$("<ul />"),f=0,g=this.length;g>f;f++)c=$("<li />"),c.appendTo(e);var h=e.find("li");return this.on(a.PsycleEvent.PANEL_CHANGE_END,function(a){h.removeClass(d._config.currentClass),h.eq(a.data.index).addClass(d._config.currentClass)}),h.eq(this._config.startIndex).addClass(this._config.currentClass),h.on("click",function(a){d.gotoPanel($(a.target).index(),b),a.preventDefault()}),e},e.prototype.marked=function(b){var c,d,e,f=this,g=$.extend({type:"li",duration:null}),h=""+g.type,i=b[0].nodeName,j=0,k=this.length;switch(("UL"===i||"OL"===i)&&(h="li"),h.toLowerCase()){case"li":case"list":case"ls":case"ul":case"ol":c="li";break;case"i":case"in":case"inline":case"span":c="span";break;default:c="div"}for(d=$("<"+c+" />");k>j;j++)d.clone().appendTo(b);e=b.find(">"+c),e.eq(this._config.startIndex).addClass(this._config.currentClass),this.on(a.PsycleEvent.PANEL_CHANGE_END,function(a){e.removeClass(f._config.currentClass),e.eq(a.data.index).addClass(f._config.currentClass)}),e.on("click",function(a){f.gotoPanel($(a.target).index(),g.duration),a.preventDefault()})},e.prototype.controller=function(a,b){var c=this,d=$.extend({prevClass:"prev",nextClass:"next",prev:null,next:null,duration:null},b),e=d.prev||"."+d.prevClass,f=d.next||"."+d.nextClass;a.on("click",e,function(a){c.prev(d.duration),a.preventDefault()}),a.on("click",f,function(a){c.next(d.duration),a.preventDefault()})},e.prototype.ctrl=function(a,b){this.controller(a,b)},e.prototype._transitionTo=function(a,b,c){var d=this;return"undefined"==typeof c&&(c=0),this.isTransition=!0,this._duration=b,this.progressIndex=a,this.vector=this._optimizeVector(a,c),this.from=this.index,this.to=this._optimizeCounter(this.index+this.vector),this.stop,this._before(),this._fire(),this.animation.done(function(){d._done()}),this.animation.fail(function(){d._fail()}),this},e.prototype._optimizeVector=function(b,c){"undefined"==typeof c&&(c=0);var d,e=Math.abs(this.index-b);return d=this.repeat===a.PsycleRepeat.LOOP?a.Util.getloopSeriesVector(this.index,b,c,this.length):e*(this.index<b?1:-1)},e.prototype._optimizeCounter=function(b){var c,d=this.length-1;switch(this.repeat){case a.PsycleRepeat.LOOP:case a.PsycleRepeat.RETURN:c=a.Util.getloopSeriesNumber(b,this.length);break;default:c=0>b?0:b,c=d>c?c:d,(this._isFirst(c)||this._isLast(c))&&this.stop()}return c},e.prototype._isFirst=function(a){return 0===a},e.prototype._isLast=function(a){return a===this.length-1},e.prototype._resizeable=function(){var a,c=this,d=300,e=!1;$(b).on("resize",function(){e||(e=!0,c._resizeStart()),clearTimeout(a),c._resize(),a=setTimeout(function(){c._resizeEnd(),e=!1},d)})},e.prototype._getState=function(){return{index:this.index,stage:this.stage,container:this.container,panels:this.panels,stageWidth:this.stageWidth,panelWidth:this.panelWidth,length:this.length,from:this.from,to:this.to,vector:this.vector,isTransition:this.isTransition,isPaused:this.isPaused}},e.prototype._load=function(){this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.LOAD})},e.prototype._init=function(){this.transition.init.call(this),this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.INIT}),this.trigger(a.PsycleEvent.INIT,this._getState())},e.prototype._silent=function(){this.transition.silent.call(this),this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.TRANSITION_END}),this.panels.setCurrent(this.index,this._config.currentClass)},e.prototype._before=function(){this.transition.before.call(this),this.panels.resetCurrent(this._config.currentClass),this.trigger(a.PsycleEvent.PANEL_CHANGE_START,this._getState())},e.prototype._fire=function(){this.transition.fire.call(this)},e.prototype._cancel=function(){this.transition.cancel.call(this)},e.prototype._done=function(){this.index=this.to,this.isTransition=!1,this._after(),this._silent(),this.trigger(a.PsycleEvent.PANEL_CHANGE_END,this._getState()),this._config.auto&&this.play()},e.prototype._after=function(){this.transition.after.call(this)},e.prototype._fail=function(){this.stop(),this._cancel(),this.isTransition=!1,this.trigger(a.PsycleEvent.PANEL_CHANGE_CANCEL,this._getState())},e.prototype._resize=function(){this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.RESIZE})},e.prototype._resizeStart=function(){this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.RESIZE_START}),this.animation&&this.isTransition&&this.freeze()},e.prototype._resizeEnd=function(){this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.RESIZE_END}),this.isPaused&&this._config.auto&&this.gotoPanel(this.to)},e}(a.PsyborgElement);a.Psycle=c}(a||(a={}));var a;!function(a){var b=function(){function a(){}return a.INIT="init",a.PANEL_CHANGE_START="panelChangeStart",a.PANEL_CHANGE_END="panelChangeEnd",a.PANEL_CHANGE_CANCEL="panelChangeCancel",a.WAIT_START="waitStart",a.WAIT_END="waitEnd",a}();a.PsycleEvent=b}(a||(a={}));var a;!function(a){var b=function(){function a(){}return a.NONE="none",a.RETURN="return",a.LOOP="loop",a}();a.PsycleRepeat=b}(a||(a={}));var a;!function(a){var b=function(){function a(){}return a.INIT="init",a.TRANSITION_END="transitionEnd",a.RESIZE="resize",a.RESIZE_START="resizeStart",a.RESIZE_END="resizeEnd",a.REFLOW_METHOD="reflowMethod",a.LOAD="load",a}();a.PsycleReflowTiming=b}(a||(a={}));var a;!function(a){var b=function(b){function c(a,c,d){b.call(this,a),this.hasImages=!1,this.loaded=!1,this.index=c,this._list=d,this._loadImageObserve()}return d(c,b),c.prototype.show=function(){return this.$el.show(),this},c.prototype.hide=function(){return this.$el.hide(),this},c.prototype.clone=function(b,c){"undefined"==typeof b&&(b=!0),"undefined"==typeof c&&(c=!0);var d=new a.PsyclePanelClone(this.$el.clone(),this.index,this._list);return b&&this.$el.after(d.$el),c&&this._list.addClone(d),d},c.prototype._loadImageObserve=function(){var a=this,b=this.$el.find("img"),c=[];b.length&&(this.hasImages=!0,b.each(function(a,b){var d=$.Deferred(),e=function(){d.resolve()},f=function(){d.resolve()},g=function(){d.resolve()};b.onload=e,b.onerror=g,b.onabort=f,c.push(d.promise())}),$.when.apply($,c).done(function(){a.loaded=!0,a.trigger("load")}))},c}(a.PsyborgElement);a.PsyclePanel=b}(a||(a={}));var a;!function(a){var b=function(a){function b(b,c,d){a.call(this,b,c,d),b.addClass("-psycle-clone-element"),b.attr("data-psycle-clone-element","true"),b.attr("data-psycle-clone-original-index",""+c)}return d(b,a),b.prototype._loadImageObserve=function(){},b}(a.PsyclePanel);a.PsyclePanelClone=b}(a||(a={}));var a;!function(a){var b=function(b){function c(a){var c=this;b.call(this,a),this._panels=[],this._$panels=$(),this._clones=[],this.length=0;for(var d,e=0,f=a.length;f>e;e++)d=$(a[e]),this.add(d);var g=[];this.each(function(a,b){var c=$.Deferred();b.hasImages&&(b.loaded?c.resolve():b.on("load",function(){c.resolve()}),g.push(c.promise()))}),$.when.apply($,g).done(function(){c.trigger("load")})}return d(c,b),c.prototype.setCurrent=function(a,b){return this.resetCurrent(b),this.item(a).$el.addClass(b),this},c.prototype.resetCurrent=function(a){return this.$el.removeClass(a),this},c.prototype.add=function(b){var c=this._panels.length,d=new a.PsyclePanel(b,c,this);return this._panels.push(d),this.$el=this.$el.add(b),this.length+=1,this},c.prototype.addClone=function(a){return this._clones.push(a),this},c.prototype.cloneAfter=function(a){return this.clone(a)},c.prototype.cloneBefore=function(a){return this.clone(a,!0)},c.prototype.clone=function(a,b){"undefined"==typeof b&&(b=!1);var c,d,e=[],f=$(),g=0,h=a;for(g;h>g;g++)this.each(function(a,b){c=b.clone(!1,!1),e.push(c),d=c.$el,f=f.add(d)});return b?this.$el.eq(0).before(f):this.$el.eq(-1).after(f),this._clones=this._clones.concat(e),this},c.prototype.remove=function(a,b){return"undefined"==typeof b&&(b=!0),b&&this.$el.eq(a).remove(),this._panels.splice(a,1),this._renumbering(),this.length-=1,this},c.prototype.item=function(a){var b=this._getRealIndex(a);return this._panels[b]},c.prototype.each=function(a){for(var b,c=0,d=this._panels.length;d>c;c++)b=this._panels[c],a.call(b,b.index,b);return this},c.prototype.show=function(){return this.$el.show(),this},c.prototype.hide=function(){return this.$el.hide(),this},c.prototype.removeClone=function(){for(var a=0,b=this._clones.length;b>a;a++)this._clones[a].$el.remove();return this._clones=[],this},c.prototype._getRealIndex=function(a){var b=this._panels.length;a%=b;var c=0>a?b+a:a;return c},c.prototype._renumbering=function(){for(var a=0,b=this._panels.length;b>a;a++)this._panels[a].index=a;return b},c}(a.PsyborgElement);a.PsyclePanelList=b}(a||(a={}));var a;!function(a){var b=function(a){function b(){a.apply(this,arguments)}return d(b,a),b}(a.PsyborgElement);a.PsycleContainer=b}(a||(a={}));var a;!function(a){var b=function(a){function b(b,c){var d=this;a.call(this,b),this._panels=c,this._panels.on("load",function(){d.trigger("load")})}return d(b,a),b}(a.PsyborgElement);a.PsycleStage=b}(a||(a={}));var a;!function(a){var b=function(){function a(a,b){this.name=a,$.extend(this,b)}return a.create=function(b){var c,d;for(c in b)d=new a(c,b[c]),a.transitions[c]=d},a.transitions={},a}();a.PsycleTransition=b}(a||(a={}));var a;!function(a){a.PsycleTransition.create({slide:{init:function(){var b=this;a.StyleSheet.posBase(this.stage.$el),a.StyleSheet.posAbs(this.container.$el),a.StyleSheet.posBase(this.panels.$el),a.StyleSheet.floating(this.panels.$el);var c=this.panels.$el;a.StyleSheet.saveCSS(c);var d,e,f,g,h,i=!1,j=!1;this._config.draggable&&(f=this.stage.$el.hammer({drag_block_horizontal:!0,tap_always:!1,swipe_velocity:.1}),f.find("a, img").hammer({drag_block_horizontal:!0,tap_always:!1}),this.panels.each(function(b,c){var d,e,f=c.$el.hammer(),g=f.find("a");g.length&&(g.on("click",function(a){a.preventDefault()}),d=g.prop("href"),e=g.prop("target"),f.on("tap",function(){d&&a.Window.linkTo(d,e)}))}),f.on("tap dragstart drag dragend",function(c){switch(c.type){case"tap":!function(){i=!1}();break;case"dragstart":!function(){d=b.container.$el.position().left,h=b.index}();break;case"drag":!function(){var a=c.gesture.deltaX,e=d+a;b.freeze(),i=!0,b.container.$el.css({left:e})}();break;case"dragend":!function(){var e=c.gesture.deltaX,f=b.panelWidth,h=d+e,k=b.panelWidth%g,l=a.Util.getSpeed(b.panelWidth,b._duration),m=2,n=b.index-Math.round(h*m/f),o=e>0?-1:1;n===b.index&&(o=0),j||(b._before(),b._transitionTo(n,a.Util.getDuration(k,l),o)),j=!1,i=!1,b.isTransition=!1}()}}),this._config.swipeable&&(f=this.stage.$el.hammer({drag_block_vertical:this._config.dragBlockVertical}),f.on("dragstart",function(a){e=a.timeStamp}),f.on("swipeleft",function(a){var c=a.timeStamp-e;b.isLast()||(j=!0,b.stop(),b.next(c,1))}),f.on("swiperight",function(a){var c=a.timeStamp-e;b.isFirst()||(j=!0,b.stop(),b.prev(c,-1))})))},reflow:function(b){var c,d,c,e,f,g=0;switch(b.timing){case a.PsycleReflowTiming.TRANSITION_END:c=this.panelWidth*this.index*-1+this.cloneCount*this.panelWidth*this.length*-1,this.container.$el.css({left:c});break;case a.PsycleReflowTiming.INIT:case a.PsycleReflowTiming.LOAD:case a.PsycleReflowTiming.RESIZE_START:case a.PsycleReflowTiming.RESIZE_END:f=this.panels.$el,a.StyleSheet.restoreCSS(f),this.panelWidth=f.outerWidth(!0),this.stageWidth=this.stage.$el.width(),f.width(this.panelWidth),d=this.panelWidth*this.length,this.repeat===a.PsycleRepeat.LOOP&&(e=this.stageWidth/d,g=Math.ceil(e/2)+1,this.cloneCount<g&&(this.panels.removeClone(),this.panels.cloneBefore(g),this.panels.cloneAfter(g),this.cloneCount=g)),d=this.panelWidth*this.length*(2*this.cloneCount+1),c=this.panelWidth*this.index*-1+this.cloneCount*this.panelWidth*this.length*-1,this.container.$el.css({width:d,left:c}),this._config.resizable&&this.stage.setHeight(this.panels.getHeight())}},silent:function(){},before:function(){},fire:function(){var a,b=this._duration||this._config.duration;this.animation&&this.animation.stop(),a=this.panelWidth*(this.index+this.vector)*-1+this.cloneCount*this.panelWidth*this.length*-1,this.animation=$.Animation(this.container.$el[0],{left:a},{duration:b,easing:this._config.easing})},cancel:function(){},after:function(){}}})}(a||(a={}));var a;!function(a){a.PsycleTransition.create({slideold:{init:function(){var b=this;a.StyleSheet.posBase(this.stage.$el),a.StyleSheet.posAbs(this.container.$el),a.StyleSheet.posAbs(this.panels.$el);var c=this.panels.$el;a.StyleSheet.saveCSS(c);var d,e,f,g,h,i=!1,j=!1;this._config.draggable&&(f=this.stage.$el.hammer({drag_block_horizontal:!0,tap_always:!1,swipe_velocity:.1}),f.find("a, img").hammer({drag_block_horizontal:!0,tap_always:!1}),this.panels.each(function(b,c){var d,e,f=c.$el.hammer(),g=f.find("a");g.length&&(g.on("click",function(a){a.preventDefault()}),d=g.prop("href"),e=g.prop("target"),f.on("tap",function(){d&&a.Window.linkTo(d,e)}))}),f.on("tap dragstart drag dragend",function(c){switch(c.type){case"tap":!function(){i=!1}();break;case"dragstart":!function(){d=b.container.$el.position().left,h=b.index}();break;case"drag":!function(){var a=c.gesture.deltaX,e=d+a;b.freeze(),i=!0,b.container.$el.css({left:e})}();break;case"dragend":!function(){var e=c.gesture.deltaX,f=b.panelWidth,h=d+e,k=b.panelWidth%g,l=a.Util.getSpeed(b.panelWidth,b._duration),m=2,n=b.index-Math.round(h*m/f),o=e>0?-1:1;n===b.index&&(o=0),j||(b._before(),b._transitionTo(n,a.Util.getDuration(k,l),o)),j=!1,i=!1,b.isTransition=!1}()}}),this._config.swipeable&&(f=this.stage.$el.hammer({drag_block_vertical:this._config.dragBlockVertical}),f.on("dragstart",function(a){e=a.timeStamp}),f.on("swipeleft",function(a){var c=a.timeStamp-e;b.isLast()||(j=!0,b.stop(),b.next(c,1))}),f.on("swiperight",function(a){var c=a.timeStamp-e;b.isFirst()||(j=!0,b.stop(),b.prev(c,-1))})))},reflow:function(b){var c=this;switch(b.timing){case a.PsycleReflowTiming.TRANSITION_END:case a.PsycleReflowTiming.RESIZE_START:case a.PsycleReflowTiming.RESIZE_END:case a.PsycleReflowTiming.LOAD:!function(){c.container.$el.css({left:0}),c.panels.hide();var b=c.panels.$el;a.StyleSheet.restoreCSS(b),c.panelWidth=b.outerWidth(!0),b.width(c.panelWidth),c.stageWidth=c.stage.$el.width(),c._config.resizable&&c.stage.setHeight(c.panels.getHeight());var d=0,e=c.length;c.panels.removeClone();for(var f,g,h,i,j=c._config.clone;e>d;d++)if(f=c.panels.item(d+c.index),f.show(),c.repeat===a.PsycleRepeat.LOOP)for(f.$el.css({left:c.panelWidth*d}),i=1;j>i;i++)g=f.clone(),g.show(),g.$el.css({left:c.panelWidth*(d-c.length*i)}),h=f.clone(),h.show(),h.$el.css({left:c.panelWidth*(d+c.length*i)});else f.$el.css(c.index<=f.index?{left:c.panelWidth*d}:{left:c.panelWidth*(d-c.length)})}()}},silent:function(){},before:function(){},fire:function(){var a,b=this._duration||this._config.duration;this.animation&&this.animation.stop(),a=-1*this.panelWidth*this.vector,this.animation=$.Animation(this.container.$el[0],{left:a},{duration:b,easing:this._config.easing})},cancel:function(){},after:function(){}}})}(a||(a={}));var a;!function(a){a.PsycleTransition.create({fade:{init:function(){a.StyleSheet.posBase(this.container.$el),a.StyleSheet.posAbs(this.panels.$el)},reflow:function(b){switch(b.timing){case a.PsycleReflowTiming.TRANSITION_END:case a.PsycleReflowTiming.RESIZE_START:case a.PsycleReflowTiming.RESIZE_END:case a.PsycleReflowTiming.LOAD:this._config.resizable&&this.stage.$el.height(this.panels.$el.height()),a.StyleSheet.z(this.panels.$el,0),a.StyleSheet.z(this.panels.item(this.to).$el,10)}},silent:function(){},before:function(){},fire:function(){this.panels.item(this.to).$el.css({opacity:0}),a.StyleSheet.z(this.panels.item(this.to).$el,20),this.animation&&this.animation.stop(),this.animation=$.Animation(this.panels.item(this.to).$el[0],{opacity:1},{duration:this._config.duration})},cancel:function(){},after:function(){}}})}(a||(a={})),jQuery.fn.psycle=function(b){return 0===this.length&&console&&console.warn&&console.warn("This jQuery object is empty."),this.each(function(){new a.Psycle($(this),b)})},jQuery.Psycle=a.Psycle,jQuery.PsycleEvent=a.PsycleEvent,jQuery.PsycleRepeat=a.PsycleRepeat,jQuery.PsycleReflowTiming=a.PsycleReflowTiming}).call(this);