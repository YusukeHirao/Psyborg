/**
 * Psyborg.js - v0.1.0 r58
 * update: 2013-04-19
 * Author: Yusuke Hirao [http://www.yusukehirao.com]
 * Github: https://github.com/YusukeHirao/Psyborg
 * License: Licensed under the MIT License
 * Require: jQuery v1.9.1
 */

/* Included Libraries * -- ----- ----- ----- ----- ----- ----- *

+ iOS6-timers.js
	This library re-implements setTimeout, setInterval, clearTimeout, clearInterval for iOS6.
	iOS6 suffers from a bug that kills timers that are created while a page is scrolling.
	This library fixes that problem by recreating timers after scrolling finishes (with interval correction).
	This code is free to use by anyone (MIT, blabla).
	Author: rkorving@wizcorp.jp

+ Bez
	Bez v1.0.10-g5ae0136
	http://github.com/rdallasgray/bez

	A plugin to convert CSS3 cubic-bezier co-ordinates to jQuery-compatible easing functions

	With thanks to Nikolay Nemshilov for clarification on the cubic-bezier maths
	See http://st-on-it.blogspot.com/2011/05/calculating-cubic-bezier-function.html

	Copyright 2011 Robert Dallas Gray. All rights reserved.
	Provided under the FreeBSD license: https://github.com/rdallasgray/bez/blob/master/LICENSE.txt

 * ----- ----- ----- ----- ----- ----- ----- ----- ----- ----- */

(function(){var t,e,r,o,n,i,s,a,u,p,l,c,h,f,d,y,m,g,_,v,$,w,b,x,C,I,z,A,j,k,T,E,L,P,B,D,F,O,S,N,Q,R,q,M,H,U,W,V,X,G,Y,J,K,Z,te,ee,re,oe,ne,ie,se,ae,ue,pe,le,ce,he,fe,de,ye,me,ge,_e,ve,$e,we,be,xe,Ce,Ie,ze,Ae,je,ke,Te,Ee,Le=[].slice;if(Te=this,function(t){function e(e,r,o){function n(){a&&(a.apply(t,arguments),u||(delete r[i],a=null))}var i,a=o[0],u=e===s;return o[0]=n,i=e.apply(t,o),r[i]={args:o,created:Date.now(),cb:a,id:i},i}function r(e,r,o,n){function i(){a.cb&&(a.cb.apply(t,arguments),u||(delete o[n],a.cb=null))}var a=o[n];if(a){var u=e===s;if(r(a.id),!u){var p=a.args[1],l=Date.now()-a.created;0>l&&(l=0),p-=l,0>p&&(p=0),a.args[1]=p}a.args[0]=i,a.created=Date.now(),a.id=e.apply(t,a.args)}}if(/OS 6_0.+like 0S X/i.test(t.navigator.userAgent)){var o={},n={},i=t.setTimeout,s=t.setInterval,a=t.clearTimeout,u=t.clearInterval;t.setTimeout=function(){return e(i,o,arguments)},t.setInterval=function(){return e(s,n,arguments)},t.clearTimeout=function(t){var e=o[t];e&&(delete o[t],a(e.id))},t.clearInterval=function(t){var e=n[t];e&&(delete n[t],u(e.id))},t.addEventListener("scroll",function(){var t;for(t in o)r(i,a,o,t);for(t in n)r(s,u,n,t)})}}(Te),jQuery.extend({bez:function(e){var r="bez_"+t.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof jQuery.easing[r]){var o=function(t,e){var r=[null,null],o=[null,null],n=[null,null],i=function(i,s){return n[s]=3*t[s],o[s]=3*(e[s]-t[s])-n[s],r[s]=1-n[s]-o[s],i*(n[s]+i*(o[s]+i*r[s]))},a=function(t){return n[0]+t*(2*o[0]+3*r[0]*t)},u=function(t){for(var e,r=t,o=0;14>++o&&(e=i(r,0)-t,!(.001>s.abs(e)));)r-=e/a(r);return r};return function(t){return i(u(t),1)}};jQuery.easing[r]=function(t,r,n,i,s){return i*o([e[0],e[1]],[e[2],e[3]])(r/s)+n}}return r}}),!this.jQuery)throw new ReferenceError("jQuery is not defind");a="Psyborg",l="0.1.0",A=this,s=A.Math,ze=A.setTimeout,d=A.clearTimeout,Ie=A.setInterval,f=A.clearInterval,ee=A.isNaN,t=A.jQuery,i=t.Deferred,o=t.Animation,n=t.Callbacks,xe=t.noop,z=t.extend,c=t.ajax,Ce=t.proxy,I=t.each,be=t.map,j=t.grep,je=t.trim,h=t.camelCase,y=t.contains,Ee=t.inArray,ne=t.isPlainObject,q=t.isEmptyObject,re=t.isNumeric,Q=t.isArray,M=t.isFunction,ke=A,x=ke.document,C=x.documentElement,r=t(ke),e=t(x),k=function(t){return void 0===t},T=k(ke.addEventListener),E=k(C.style.posTop),le=!k(ke.ontouchstart)||!!ke.navigator.msPointerEnabled,H=!!x.uniqueID,me=T&&k(C.style.maxHeight),ge=T&&k(x.querySelectorAll),_e=T&&k(x.getElementsByClassName),ve=H&&k(ke.Worker),W=H&&me,V=H&&ge&&!me,X=H&&_e&&!ge,G=H&&ve&&!_e,U=H&&!ve,te=!!ke.sidebar,oe=!!ke.opera,ce=!(x.uniqueID||oe||te||!ke.localStorage),R=ce&&!k(x.webkitHidden),ie=ce&&!R&&!le,$e=ie&&k(ke.matchMedia),we=ie&&k(ke.FileReader),se=ie&&$e,ae=ie&&we&&!$e,ue=ie&&!we,J=le&&U,Z=le&&ce,Y=Z&&R,B=Z&&k(ke.EventSource),he=B&&k(ke.onhashchange),fe=B&&k(ke.Blob),de=B&&k(ke.FileReader),ye=B&&k(ke.ArrayBuffer),D=B&&he,F=B&&fe&&!he,O=B&&de&&!fe,S=B&&ye&&!de,N=B&&!ye,K=Z&&!B&&!Y,g=function(){return parseInt((new Date).valueOf()+ze(xe,0),10).valueOf().toString(16)},m=function(){var t,e;return t=arguments.length>=1?Le.call(arguments,0):[],e=x.createElement("div"),e.className=t.join(" "),e},L=function(t,e){var r,o,n;for(o=0,n=t.length;n>o;o++)if(r=t[o],r===e)return!0;return!1},pe=function(t){return t===t+""},P=function(t){return parseInt(t,10)||0},w=function(){var t,e;return E?(t="top",e="px"):(t="posTop",e=0),function(r,o){return r[0].style[t]=o+e}}(),v=function(){var t,e;return E?(t="left",e="px"):(t="posLeft",e=0),function(r,o){return r[0].style[t]=o+e}}(),b=function(){var t,e;return E?(t="width",e="px"):(t="posWidth",e=0),function(r,o){return r[0].style[t]=o+e}}(),_=function(){var t,e;return E?(t="height",e="px"):(t="posHeight",e=0),function(r,o){return r[0].style[t]=o+e}}(),$=function(){return function(t,e){return _e?t[0].style.filter="filter:alpha(Opcity="+100*e+")":t[0].style.opacity=e}}(),Ae=function(){var t,e,r,o,n,i,s,a,u,p,l,c,h,f,d,y,g,_,v,$,w,b,x,C,I,z,A,j,k,T,E;for(h={},r=m().style,f=["Webkit","Moz","O","Ms",""],e=["Transform","Transition","Animation"],n=["TransitionEnd","AnimationStart","AnimationIteration","AnimationEnd"],c=["RequestAnimationFrame","CancelAnimationFrame","Performance"],E=e.concat(n,c),d=0,v=E.length;v>d;d++)a=E[d],h[a]=null;for(y=0,$=f.length;$>y;y++){for(l=f[y],g=0,w=e.length;w>g;g++)for(t=e[g],p=[l+t,l.toUpperCase()+t,l.toLowerCase()+t,l.toLowerCase()+t.toLowerCase()],_=0,b=p.length;b>_;_++)u=p[_],void 0!==r[u]&&(h[t]=u);for(A=0,x=n.length;x>A;A++)for(o=n[A],p=[l+o,l.toUpperCase()+o,l.toLowerCase()+o,l.toLowerCase()+o.toLowerCase()],i=j=0,C=p.length;C>j;i=++j)u=p[i],void 0!==ke["on"+u]&&(h[o]=u);for(k=0,I=c.length;I>k;k++)for(s=c[k],p=[l+s,l.toUpperCase()+s,l.toLowerCase()+s,l.toLowerCase()+s.toLowerCase()],T=0,z=p.length;z>T;T++)u=p[T],void 0!==ke[u]&&(h[s]=u)}return h.PerformanceNow=h.Performance&&M(h.Performance.now),h}(),p=function(){function t(){throw new TypeError("object is not a function")}var e,r,o,n;return n=s.random,r=s.max,o=s.min,e=s.floor,t.random=function(t,i){var s,a,u,p,l;if(re(t))return re(i)||(i=t,t=0),p=o(t,i),u=r(t,i)+1,e(n()*(u-p)+p);if(Q(t)){for(s=t,l=[];a=s.length;)l=l.concat(s.splice(this.random(a)));return l}return 0},t}(),u=function(){function e(r,o){var n,i,s,u,p,l,c,h,f,d,y;return this instanceof e?(d=g(),l=""+a+" _"+a+d,this.uid=d,this.$=t(r,o),this.setPropertiesByComputedValues(this.$),c="_"+a+"_core",this.$.addClass([l,c].join(" ")),this.$.css({position:"relative",zIndex:1,width:"100%",height:"100%"}),h="_"+a+"_container",i=t(m(l,h)),this.$.wrap(i),this.$ctn=this.$.parent(),this.$ctn.css({position:this._position}),y="_"+a+"_wrapper",u=t(m(l,y)),this.$ctn.wrapInner(u),this.$wrp=this.$ctn.children(),this.$wrp.css({position:"absolute",zIndex:0}),p="_"+a+"_background",n=t(m(l,p)),n.appendTo(this.$wrp),this.$bg=n,this.$bg.css({overflow:"hidden",position:"relative",zIndex:0,width:"100%",height:"100%"}),f="_"+a+"_hitarea",s=t(m(l,f)),s.insertBefore(this.$wrp),this.$hit=s,this.$hit.css({position:"absolute",zIndex:1}),this._$metrix=this.$wrp.add(this.$hit),this._$position=this.$ctn,this._$transform=this.$wrp.add(this.$hit),this.update(),void 0):new e(r,o)}var r;return r=function(t){var e;return e=t.css("position"),void 0===e||null===e||""===e||"static"===e?"relative":e},e.prototype.uid=null,e.prototype.$=null,e.prototype.$ctn=null,e.prototype.$wrp=null,e.prototype.$bg=null,e.prototype.$hit=null,e.prototype._$metrix=null,e.prototype._$position=null,e.prototype._$transform=null,e.prototype._width=0,e.prototype._height=0,e.prototype._top=0,e.prototype._left=0,e.prototype._zIndex=0,e.prototype._zoom=1,e.prototype._opacity=1,e.prototype._x=0,e.prototype._y=0,e.prototype._rotate=0,e.prototype._scaleX=1,e.prototype._scaleY=1,e.prototype._colorR=0,e.prototype._colorG=0,e.prototype._colorB=0,e.prototype._colorA=0,e.prototype._backgroundImage=null,e.prototype._position=null,e.prototype.setPropertiesByComputedValues=function(t){return this._width=t.width(),this._height=t.height(),this._top=P(t.css({position:"top"})),this._left=P(t.css({position:"left"})),this._zIndex=P(t.css("z-index")),this._zoom=P(t.css("zoom")),this._opacity=parseFloat(t.css("opacity")),this._position=r(this.$),this},e.prototype.update=function(){return this._$metrix.css({width:this._width,height:this._height}),this._$position.css({top:this._top,left:this._left,zIndex:this._zIndex,zoom:this._zoom}),this._$transform,this},e.prototype.x=function(t,e){var r;return null==t?_x:(r=parseFloat(t),e&&(r+=this.x()),this._x=r,this.update(),this)},e.prototype.trace=function(){return this.$.css({backgroundColor:"rgba(  0, 255,   0, 0.2)"}),this.$ctn.css({backgroundColor:"rgba(  0,   0, 255, 0.2)"}),this.$wrp.css({backgroundColor:"rgba(255, 255, 255, 0.2)"}),this.$bg.css({backgroundColor:"rgba(  0,   0,   0, 0.2)"}),this.$hit.css({backgroundColor:"rgba(255,   0,   0, 0.2)"}),this},e}(),t[a]=u}).call(this);