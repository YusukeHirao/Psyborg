/**
 * Psyborg.js - v0.1.0 r47
 * update: 2013-04-19
 * Author: Yusuke Hirao [http://www.yusukehirao.com]
 * Github: https://github.com/YusukeHirao/Psyborg
 * License: Licensed under the MIT License
 * Require: jQuery v1.9.1
 */

/* Included Libraries * -- ----- ----- ----- ----- ----- ----- *

+ iOS6-timers.js
	This library re-implements setTimeout, setInterval, clearTimeout, clearInterval for iOS6.
	iOS6 suffers from a bug that kills timers that are created while a page is scrolling.
	This library fixes that problem by recreating timers after scrolling finishes (with interval correction).
	This code is free to use by anyone (MIT, blabla).
	Author: rkorving@wizcorp.jp

+ Bez
	Bez v1.0.10-g5ae0136
	http://github.com/rdallasgray/bez

	A plugin to convert CSS3 cubic-bezier co-ordinates to jQuery-compatible easing functions

	With thanks to Nikolay Nemshilov for clarification on the cubic-bezier maths
	See http://st-on-it.blogspot.com/2011/05/calculating-cubic-bezier-function.html

	Copyright 2011 Robert Dallas Gray. All rights reserved.
	Provided under the FreeBSD license: https://github.com/rdallasgray/bez/blob/master/LICENSE.txt

 * ----- ----- ----- ----- ----- ----- ----- ----- ----- ----- */

(function(){var t,e,n,r,o,i,a,s,u,l,p,c,f,h,d,y,m,_,g,v,w,b,$,x,C,I,A,j,z,T,E,L,P,k,B,D,F,O,S,N,Q,R,q,M,H,U,W,V,X,G,Y,J,K,Z,te,ee,ne,re,oe,ie,ae,se,ue,le,pe,ce,fe,he,de,ye,me,_e,ge,ve,we,be,$e,xe,Ce,Ie,Ae,je,ze,Te,Ee,Le,Pe=[].slice;if(Ee=this,function(t){function e(e,n,r){function o(){s&&(s.apply(t,arguments),u||(delete n[i],s=null))}var i,s=r[0],u=e===a;return r[0]=o,i=e.apply(t,r),n[i]={args:r,created:Date.now(),cb:s,id:i},i}function n(e,n,r,o){function i(){s.cb&&(s.cb.apply(t,arguments),u||(delete r[o],s.cb=null))}var s=r[o];if(s){var u=e===a;if(n(s.id),!u){var l=s.args[1],p=Date.now()-s.created;0>p&&(p=0),l-=p,0>l&&(l=0),s.args[1]=l}s.args[0]=i,s.created=Date.now(),s.id=e.apply(t,s.args)}}if(/OS 6_0.+like 0S X/i.test(t.navigator.userAgent)){var r={},o={},i=t.setTimeout,a=t.setInterval,s=t.clearTimeout,u=t.clearInterval;t.setTimeout=function(){return e(i,r,arguments)},t.setInterval=function(){return e(a,o,arguments)},t.clearTimeout=function(t){var e=r[t];e&&(delete r[t],s(e.id))},t.clearInterval=function(t){var e=o[t];e&&(delete o[t],u(e.id))},t.addEventListener("scroll",function(){var t;for(t in r)n(i,s,r,t);for(t in o)n(a,u,o,t)})}}(Ee),jQuery.extend({bez:function(e){var n="bez_"+t.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof jQuery.easing[n]){var r=function(t,e){var n=[null,null],r=[null,null],o=[null,null],i=function(i,a){return o[a]=3*t[a],r[a]=3*(e[a]-t[a])-o[a],n[a]=1-o[a]-r[a],i*(o[a]+i*(r[a]+i*n[a]))},s=function(t){return o[0]+t*(2*r[0]+3*n[0]*t)},u=function(t){for(var e,n=t,r=0;14>++r&&(e=i(n,0)-t,!(.001>a.abs(e)));)n-=e/s(n);return n};return function(t){return i(u(t),1)}};jQuery.easing[n]=function(t,n,o,i,a){return i*r([e[0],e[1]],[e[2],e[3]])(n/a)+o}}return n}}),!this.jQuery)throw new ReferenceError("jQuery is not defind");s="Psyborg",p="0.1.0",j=this,a=j.Math,Ae=j.setTimeout,d=j.clearTimeout,Ie=j.setInterval,h=j.clearInterval,ee=j.isNaN,t=j.jQuery,i=t.Deferred,r=t.Animation,o=t.Callbacks,xe=t.noop,A=t.extend,c=t.ajax,Ce=t.proxy,I=t.each,$e=t.map,z=t.grep,ze=t.trim,f=t.camelCase,y=t.contains,Le=t.inArray,oe=t.isPlainObject,q=t.isEmptyObject,ne=t.isNumeric,Q=t.isArray,M=t.isFunction,Te=j,x=Te.document,C=x.documentElement,n=t(Te),e=t(x),T=function(t){return void 0===t},E=T(Te.addEventListener),L=T(C.style.posTop),pe=!T(Te.ontouchstart)||!!Te.navigator.msPointerEnabled,H=!!x.uniqueID,me=E&&T(C.style.maxHeight),_e=E&&T(x.querySelectorAll),ge=E&&T(x.getElementsByClassName),ve=H&&T(Te.Worker),W=H&&me,V=H&&_e&&!me,X=H&&ge&&!_e,G=H&&ve&&!ge,U=H&&!ve,te=!!Te.sidebar,re=!!Te.opera,ce=!(x.uniqueID||re||te||!Te.localStorage),R=ce&&!T(x.webkitHidden),ie=ce&&!R&&!pe,we=ie&&T(Te.matchMedia),be=ie&&T(Te.FileReader),ae=ie&&we,se=ie&&be&&!we,ue=ie&&!be,J=pe&&U,Z=pe&&ce,Y=Z&&R,B=Z&&T(Te.EventSource),fe=B&&T(Te.onhashchange),he=B&&T(Te.Blob),de=B&&T(Te.FileReader),ye=B&&T(Te.ArrayBuffer),D=B&&fe,F=B&&he&&!fe,O=B&&de&&!he,S=B&&ye&&!de,N=B&&!ye,K=Z&&!B&&!Y,_=function(){return parseInt((new Date).valueOf()+Ae(xe,0),10).valueOf().toString(16)},m=function(){var t,e;return t=arguments.length>=1?Pe.call(arguments,0):[],e=x.createElement("div"),e.className=t.join(" "),e},P=function(t,e){var n,r,o;for(r=0,o=t.length;o>r;r++)if(n=t[r],n===e)return!0;return!1},le=function(t){return t===t+""},k=function(t){return parseInt(t,10)||0},b=function(){var t,e;return L?(t="top",e="px"):(t="posTop",e=0),function(n,r){return n[0].style[t]=r+e}}(),v=function(){var t,e;return L?(t="left",e="px"):(t="posLeft",e=0),function(n,r){return n[0].style[t]=r+e}}(),$=function(){var t,e;return L?(t="width",e="px"):(t="posWidth",e=0),function(n,r){return n[0].style[t]=r+e}}(),g=function(){var t,e;return L?(t="height",e="px"):(t="posHeight",e=0),function(n,r){return n[0].style[t]=r+e}}(),w=function(){return function(t,e){return ge?t[0].style.filter="filter:alpha(Opcity="+100*e+")":t[0].style.opacity=e}}(),je=function(){var t,e,n,r,o,i,a,s,u,l,p,c,f,h,d,y,_,g,v,w,b,$,x,C,I,A,j,z,T,E,L;for(f={},n=m().style,h=["Webkit","Moz","O","Ms",""],e=["Transform","Transition","Animation"],o=["TransitionEnd","AnimationStart","AnimationIteration","AnimationEnd"],c=["RequestAnimationFrame","CancelAnimationFrame","Performance"],L=e.concat(o,c),d=0,v=L.length;v>d;d++)s=L[d],f[s]=null;for(y=0,w=h.length;w>y;y++){for(p=h[y],_=0,b=e.length;b>_;_++)for(t=e[_],l=[p+t,p.toUpperCase()+t,p.toLowerCase()+t,p.toLowerCase()+t.toLowerCase()],g=0,$=l.length;$>g;g++)u=l[g],void 0!==n[u]&&(f[t]=u);for(j=0,x=o.length;x>j;j++)for(r=o[j],l=[p+r,p.toUpperCase()+r,p.toLowerCase()+r,p.toLowerCase()+r.toLowerCase()],i=z=0,C=l.length;C>z;i=++z)u=l[i],void 0!==Te["on"+u]&&(f[r]=u);for(T=0,I=c.length;I>T;T++)for(a=c[T],l=[p+a,p.toUpperCase()+a,p.toLowerCase()+a,p.toLowerCase()+a.toLowerCase()],E=0,A=l.length;A>E;E++)u=l[E],void 0!==Te[u]&&(f[a]=u)}return f.PerformanceNow=f.Performance&&M(f.Performance.now),f}(),l=function(){function t(){throw new TypeError("object is not a function")}var e,n,r,o;return o=a.random,n=a.max,r=a.min,e=a.floor,t.random=function(t,i){var a,s,u,l,p;if(ne(t))return ne(i)||(i=t,t=0),l=r(t,i),u=n(t,i)+1,e(o()*(u-l)+l);if(Q(t)){for(a=t,p=[];s=a.length;)p=p.concat(a.splice(this.random(s)));return p}return 0},t}(),u=function(){function e(n,r){var o,i,a,u,l,p,c,f,h,d,y;return this instanceof e?(d=_(),p=""+s+" _"+s+d,this.uid=d,c="_"+s+"_core",this.$=t(n,r),this.$.addClass([p,c].join(" ")),this.$.css({position:"absolute"}),this.setPropertiesByComputedValues(this.$),f="_"+s+"_container",i=t(m(p,f)),this.$.wrap(i),this.$ctn=this.$.parent(),this.$ctn.css({position:this._position}),y="_"+s+"_wrapper",u=t(m(p,y)),this.$ctn.wrapInner(u),this.$wrp=this.$ctn.children(),l="_"+s+"_background",o=t(m(p,l)),o.appendTo(this.$wrp),this.$bg=o,h="_"+s+"_hitarea",a=t(m(p,h)),a.insertBefore(this.$wrp),this.$hit=a,this.update(),void 0):new e(n,r)}var n;return n=function(t){var e;return e=t.css("position"),void 0===e||null===e||""===e||"static"===e?"relative":e},e.prototype.uid=null,e.prototype.$=null,e.prototype.$ctn=null,e.prototype.$wrp=null,e.prototype.$bg=null,e.prototype.$hit=null,e.prototype._width=0,e.prototype._height=0,e.prototype._top=0,e.prototype._left=0,e.prototype._zIndex=0,e.prototype._zoom=1,e.prototype._opacity=1,e.prototype._x=0,e.prototype._y=0,e.prototype._rotate=0,e.prototype._scaleX=1,e.prototype._scaleY=1,e.prototype._colorR=0,e.prototype._colorG=0,e.prototype._colorB=0,e.prototype._colorA=0,e.prototype._backgroundImage=null,e.prototype._position=null,e.prototype.setPropertiesByComputedValues=function(t){return this._width=t.width(),this._height=t.height(),this._top=k(t.css({position:"top"})),this._left=k(t.css({position:"left"})),this._zIndex=k(t.css("z-index")),this._zoom=k(t.css("zoom")),this._opacity=parseFloat(t.css("opacity")),this._position=n(this.$)},e.prototype.update=function(){return this.$.css({width:this._width,height:this._height,top:this._top,left:this._left,zIndex:this._zIndex,zoom:this._zoom})},e.prototype.x=function(t,e){var n;return null==t?_x:(n=parseFloat(t),e&&(n+=this.x()),this._x=n,this.update(),this)},e}(),t[s]=u}).call(this);