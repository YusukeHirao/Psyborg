/**
 * Psyborg.js - v0.1.0 r27
 * update: 2013-04-19
 * Author: Yusuke Hirao [http://www.yusukehirao.com]
 * Github: https://github.com/YusukeHirao/Psyborg
 * License: Licensed under the MIT License
 * Require: jQuery v1.9.1
 */

/* Included Libraries * -- ----- ----- ----- ----- ----- ----- *

+ iOS6-timers.js
	This library re-implements setTimeout, setInterval, clearTimeout, clearInterval for iOS6.
	iOS6 suffers from a bug that kills timers that are created while a page is scrolling.
	This library fixes that problem by recreating timers after scrolling finishes (with interval correction).
	This code is free to use by anyone (MIT, blabla).
	Author: rkorving@wizcorp.jp

+ Bez
	Bez v1.0.10-g5ae0136
	http://github.com/rdallasgray/bez

	A plugin to convert CSS3 cubic-bezier co-ordinates to jQuery-compatible easing functions

	With thanks to Nikolay Nemshilov for clarification on the cubic-bezier maths
	See http://st-on-it.blogspot.com/2011/05/calculating-cubic-bezier-function.html

	Copyright 2011 Robert Dallas Gray. All rights reserved.
	Provided under the FreeBSD license: https://github.com/rdallasgray/bez/blob/master/LICENSE.txt

 * ----- ----- ----- ----- ----- ----- ----- ----- ----- ----- */

(function(){var t,e,r,n,o,i,a,u,s,l,c,p,f,h,y,d,m,v,g,_,w,b,C,x,I,$,A,j,E,L,T,z,P,k,D,O,S,B,F,N,Q,R,q,M,H,U,W,V,X,G,Y,J,K,Z,te,ee,re,ne,oe,ie,ae,ue,se,le,ce,pe,fe,he,ye,de,me,ve,ge,_e,we,be,Ce,xe,Ie,$e,Ae,je,Ee,Le,Te,ze,Pe=[].slice;if(Te=this,function(t){function e(e,r,n){function o(){u&&(u.apply(t,arguments),s||(delete r[i],u=null))}var i,u=n[0],s=e===a;return n[0]=o,i=e.apply(t,n),r[i]={args:n,created:Date.now(),cb:u,id:i},i}function r(e,r,n,o){function i(){u.cb&&(u.cb.apply(t,arguments),s||(delete n[o],u.cb=null))}var u=n[o];if(u){var s=e===a;if(r(u.id),!s){var l=u.args[1],c=Date.now()-u.created;0>c&&(c=0),l-=c,0>l&&(l=0),u.args[1]=l}u.args[0]=i,u.created=Date.now(),u.id=e.apply(t,u.args)}}if(/OS 6_0.+like 0S X/i.test(t.navigator.userAgent)){var n={},o={},i=t.setTimeout,a=t.setInterval,u=t.clearTimeout,s=t.clearInterval;t.setTimeout=function(){return e(i,n,arguments)},t.setInterval=function(){return e(a,o,arguments)},t.clearTimeout=function(t){var e=n[t];e&&(delete n[t],u(e.id))},t.clearInterval=function(t){var e=o[t];e&&(delete o[t],s(e.id))},t.addEventListener("scroll",function(){var t;for(t in n)r(i,u,n,t);for(t in o)r(a,s,o,t)})}}(Te),jQuery.extend({bez:function(e){var r="bez_"+t.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof jQuery.easing[r]){var n=function(t,e){var r=[null,null],n=[null,null],o=[null,null],i=function(i,a){return o[a]=3*t[a],n[a]=3*(e[a]-t[a])-o[a],r[a]=1-o[a]-n[a],i*(o[a]+i*(n[a]+i*r[a]))},u=function(t){return o[0]+t*(2*n[0]+3*r[0]*t)},s=function(t){for(var e,r=t,n=0;14>++n&&(e=i(r,0)-t,!(.001>a.abs(e)));)r-=e/u(r);return r};return function(t){return i(s(t),1)}};jQuery.easing[r]=function(t,r,o,i,a){return i*n([e[0],e[1]],[e[2],e[3]])(r/a)+o}}return r}}),!this.jQuery)throw new ReferenceError("jQuery is not defind");u="Psyborg",c="0.1.0",j=this,a=j.Math,Ae=j.setTimeout,y=j.clearTimeout,$e=j.setInterval,h=j.clearInterval,ee=j.isNaN,t=j.jQuery,i=t.Deferred,n=t.Animation,o=t.Callbacks,xe=t.noop,A=t.extend,p=t.ajax,Ie=t.proxy,$=t.each,Ce=t.map,E=t.grep,Ee=t.trim,f=t.camelCase,d=t.contains,ze=t.inArray,oe=t.isPlainObject,q=t.isEmptyObject,re=t.isNumeric,Q=t.isArray,M=t.isFunction,Le=j,x=Le.document,I=x.documentElement,r=t(Le),e=t(x),L=function(t){return void 0===t},T=L(Le.addEventListener),z=L(I.style.posTop),ce=!L(Le.ontouchstart)||!!Le.navigator.msPointerEnabled,H=!!x.uniqueID,me=T&&L(I.style.maxHeight),ve=T&&L(x.querySelectorAll),ge=T&&L(x.getElementsByClassName),_e=H&&L(Le.Worker),W=H&&me,V=H&&ve&&!me,X=H&&ge&&!ve,G=H&&_e&&!ge,U=H&&!_e,te=!!Le.sidebar,ne=!!Le.opera,pe=!(x.uniqueID||ne||te||!Le.localStorage),R=pe&&!L(x.webkitHidden),ie=pe&&!R&&!ce,we=ie&&L(Le.matchMedia),be=ie&&L(Le.FileReader),ae=ie&&we,ue=ie&&be&&!we,se=ie&&!be,J=ce&&U,Z=ce&&pe,Y=Z&&R,D=Z&&L(Le.EventSource),fe=D&&L(Le.onhashchange),he=D&&L(Le.Blob),ye=D&&L(Le.FileReader),de=D&&L(Le.ArrayBuffer),O=D&&fe,S=D&&he&&!fe,B=D&&ye&&!he,F=D&&de&&!ye,N=D&&!de,K=Z&&!D&&!Y,v=function(){return parseInt((new Date).valueOf()+Ae(xe,0),10).valueOf().toString(16)},m=function(){var t,e;return t=arguments.length>=1?Pe.call(arguments,0):[],e=x.createElement("div"),e.className=t.join(" "),e},P=function(t,e){var r,n,o;for(n=0,o=t.length;o>n;n++)if(r=t[n],r===e)return!0;return!1},le=function(t){return t===t+""},k=function(t){return parseInt(t,10)||0},b=function(){var t,e;return z?(t="top",e="px"):(t="posTop",e=0),function(r,n){return r[0].style[t]=n+e}}(),_=function(){var t,e;return z?(t="left",e="px"):(t="posLeft",e=0),function(r,n){return r[0].style[t]=n+e}}(),C=function(){var t,e;return z?(t="width",e="px"):(t="posWidth",e=0),function(r,n){return r[0].style[t]=n+e}}(),g=function(){var t,e;return z?(t="height",e="px"):(t="posHeight",e=0),function(r,n){return r[0].style[t]=n+e}}(),w=function(){return function(t,e){return ge?t[0].style.filter="filter:alpha(Opcity="+100*e+")":t[0].style.opacity=e}}(),je=function(){var t,e,r,n,o,i,a,u,s,l,c,p,f,h,y,d,v,g,_,w,b,C,x,I,$,A,j,E,L,T,z;for(f={},r=m().style,h=["Webkit","Moz","O","Ms",""],e=["Transform","Transition","Animation"],o=["TransitionEnd","AnimationStart","AnimationIteration","AnimationEnd"],p=["RequestAnimationFrame","CancelAnimationFrame","Performance"],z=e.concat(o,p),y=0,_=z.length;_>y;y++)u=z[y],f[u]=null;for(d=0,w=h.length;w>d;d++){for(c=h[d],v=0,b=e.length;b>v;v++)for(t=e[v],l=[c+t,c.toUpperCase()+t,c.toLowerCase()+t,c.toLowerCase()+t.toLowerCase()],g=0,C=l.length;C>g;g++)s=l[g],void 0!==r[s]&&(f[t]=s);for(j=0,x=o.length;x>j;j++)for(n=o[j],l=[c+n,c.toUpperCase()+n,c.toLowerCase()+n,c.toLowerCase()+n.toLowerCase()],i=E=0,I=l.length;I>E;i=++E)s=l[i],void 0!==Le["on"+s]&&(f[n]=s);for(L=0,$=p.length;$>L;L++)for(a=p[L],l=[c+a,c.toUpperCase()+a,c.toLowerCase()+a,c.toLowerCase()+a.toLowerCase()],T=0,A=l.length;A>T;T++)s=l[T],void 0!==Le[s]&&(f[a]=s)}return f.PerformanceNow=f.Performance&&M(f.Performance.now),f}(),l=function(){function t(){throw new TypeError("object is not a function")}var e,r,n,o;return o=a.random,r=a.max,n=a.min,e=a.floor,t.random=function(t,i){var a,u,s,l,c;if(re(t))return re(i)||(i=t,t=0),l=n(t,i),s=r(t,i)+1,e(o()*(s-l)+l);if(Q(t)){for(a=t,c=[];u=a.length;)c=c.concat(a.splice(this.random(u)));return c}return 0},t}(),s=function(){function e(r,n){var o,i;return this instanceof e?(i=v(),o=""+u+" _"+u+i,this.uid=i,this.$=t(r,n),this.$.addClass(o),this.setPropertiesByComputedValues(this.$),this.$ctn=t(m(o,"_"+u+"_container")),this.$.wrap(this.$ctn),this.$ctn=this.$.parent("."+o),this.$wrp=t(m(o,"_"+u+"_wrapper")),this.$ctn.wrapInner(this.$wrp),void 0):new e(r,n)}var r;return r=function(t){var e;return e=t.css("position"),void 0===e||null===e||""===e||"static"===e?t.css({position:"relative"}):void 0},e.prototype.uid=null,e.prototype.$=null,e.prototype.$ctn=null,e.prototype.$wrp=null,e.prototype.$bg=null,e.prototype._width=0,e.prototype._height=0,e.prototype._top=0,e.prototype._left=0,e.prototype._zIndex=0,e.prototype._zoom=1,e.prototype._opacity=1,e.prototype._x=0,e.prototype._y=0,e.prototype._rotate=0,e.prototype._scaleX=1,e.prototype._scaleY=1,e.prototype._colorR=0,e.prototype._colorG=0,e.prototype._colorB=0,e.prototype._colorA=0,e.prototype._backgroundImage=null,e.prototype.setPropertiesByComputedValues=function(t){return this._width=t.width(),this._height=t.height(),this._top=k(t.css("top")),this._left=k(t.css("left")),this._zIndex=k(t.css("z-index")),this._zoom=k(t.css("zoom")),this._opacity=parseFloat(t.css("opacity"))},e.prototype.x=function(t){return null==t?_x:(this._x=k(t),this.update(),this)},e}(),t[u]=s}).call(this);