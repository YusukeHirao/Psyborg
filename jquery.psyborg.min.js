/**
 * psyborg.js - v0.10.0 r912
 * update: 2016-10-05
 * Author: Yusuke Hirao [http://www.yusukehirao.com]
 * Github: https://github.com/YusukeHirao/Psyborg
 * License: Licensed under the MIT License
 * Require: jQuery v1.11.0 or later
 */

(function(){"use strict";var a,b=this,c=b.document,d=b.location,e=jQuery;!function(a){var b=function(){function a(){}return a.getSpeed=function(a,b){return a/b},a.getDuration=function(a,b){return a/b},a.getDistance=function(a,b){return a*b},a.getloopSeriesNumber=function(a,b){var c;return c=a%b,0===c?c:(0>a&&(c=b+Math.abs(a)%b*-1),c)},a.getloopSeriesVector=function(b,c,d,e){var f;if(0!==d&&1!==d&&-1!==d)throw new RangeError("`direction` is must 1 or -1 or zero.");if(0===d){b=a.getloopSeriesNumber(b,e),c=a.getloopSeriesNumber(c,e);var g=c>b?c-e:c+e,h=Math.abs(c-b),i=Math.abs(g-b),j=Math.min(h,i);f=h===j?b>c?-1*h:h:b>g?-1*i:i}else if(b===c)f=e*d;else if(c>b&&-1===d){c=a.getloopSeriesNumber(c,e);var g=c-e;f=g-b}else if(b>c&&1===d){c=a.getloopSeriesNumber(c,e);var g=c+e;f=g-b}else f=c-b;return f},a.roundDown=function(a){return parseInt(""+a,10)},a.roundUp=function(a){return a>0?Math.ceil(a):-1*Math.ceil(-1*a)},a}();a.Util=b}(a||(a={}));var a;!function(a){var b=function(){function a(a){this.defaultPrevented=!1,this.type=a,this.timeStamp=(new Date).valueOf()}return a.prototype.preventDefault=function(){this.defaultPrevented=!0},a}();a.PsyborgEvent=b}(a||(a={}));var a;!function(a){var b=function(){function b(){this._listeners={}}return b.prototype.on=function(a,b){var c;c="string"==typeof a?a.split(/\s+/):a;for(var d=0,e=c.length;e>d;d++)this._listeners[c[d]]||(this._listeners[c[d]]=[]),this._listeners[c[d]].push(b)},b.prototype.off=function(a,b){for(var c=a.split(/\s+/),d=0,e=c.length;e>d;d++){var f=c[d];(null==b||this._listeners[f]===b)&&delete this._listeners[f]}},b.prototype.trigger=function(b,c,d){if(void 0===c&&(c={}),void 0===d&&(d=this),this._listeners[b])for(var e=this._listeners[b].length,f=0;e>f;f++){var g=this._listeners[b][f],h=new a.PsyborgEvent(b);if(h.data=c,g.call(d,h),h.defaultPrevented)return!1}return!0},b}();a.PsyborgEventDispacther=b}(a||(a={}));var a,f=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};!function(a){var b=function(a){function b(b){if(a.call(this),!b.length)throw new ReferenceError('This jQuery object is empty. Selector "'+b.selector+"\" doesn't exist.");this.$el=b,this.el=b[0]}return f(b,a),b.prototype.trigger=function(b,c,d){void 0===c&&(c={}),void 0===d&&(d=this);var e=a.prototype.trigger.call(this,b,c,d);return e&&this.$el.trigger(b,c,d),e},b.prototype.getWidth=function(){return this.$el.width()},b.prototype.getHeight=function(){return this.$el.height()},b.prototype.getMaxHeight=function(){var a=0;return this.$el.each(function(b,c){a=Math.max(e(c).height(),a)}),a},b.prototype.getMinHeight=function(){var a=1/0;return this.$el.each(function(b,c){a=Math.min(e(c).height(),a)}),1/0===a&&(a=0/0),a},b.prototype.setWidth=function(a){return this.$el.width(a),this},b.prototype.setHeight=function(a){return this.$el.height(a),this},b}(a.PsyborgEventDispacther);a.PsyborgElement=b}(a||(a={}));var a;!function(a){var c=function(){function a(){}return a.linkTo=function(a,c){switch(void 0===c&&(c=""),c){case"_blank":b.open(a,null);break;default:d.href=a}},a}();a.Window=c}(a||(a={}));var a;!function(a){var b=function(){function a(){}return a.posAbs=function(a,b,c){return void 0===b&&(b=0),void 0===c&&(c=0),a.css({position:"absolute",top:b,left:c})},a.posBase=function(a){var b=a.css("position");return(null==b||"static"===b||""===b)&&a.css({position:"relative"}),a},a.z=function(a,b){return void 0===b&&(b=0),a.css({zIndex:b}),a},a.floating=function(a,b){return void 0===b&&(b=!0),a.css({"float":b?"left":"none"}),a},a.isOverflowHidden=function(a){return"hidden"===a.css("overflow").toLowerCase()},a.saveCSS=function(a){a.each(function(a,b){var c=e(b);c.data("originStyle",c.attr("style"))})},a.restoreCSS=function(a){a.each(function(a,b){var c=e(b),d=""+c.data("originStyle");c.attr("style",d)})},a.cleanCSS=function(a){a.each(function(a,b){var c=e(b);c.attr("style","")})},a}();a.StyleSheet=b}(a||(a={}));var a;!function(a){var c=function(c){function d(b,d){var f=this;c.call(this,b),this.index=0,this.vector=0,this.isTransition=!1,this.isPaused=!1,this.cloneCount=0,this._times=[],this._ignoreIndexes=[],this.config=e.extend({instanceKey:"psycle",startIndex:0,transition:"slide",duration:600,easing:"swing",delay:3e3,auto:!0,cancel:!0,repeat:a.PsycleRepeat.RETURN,container:">ul:eq(0)",panels:">li",currentClass:"current",delayWhenFire:0,clone:2,cols:1,rows:1,offsetX:0,offsetY:0,nearby:!1,innerFocus:!1,noFocus:!0,resizable:!1,draggable:!1,swipeable:!1,dragBlockVertical:!1,bindKeyboard:!1,showOnlyOnce:".once",controller:null,marker:null,thumbnail:null,css3:!0,loopCloneLength:null,scenes:[],dimension:"auto",crossFade:!0},d);var g=b,h=g.find(this.config.container),i=h.find(this.config.panels);if(this.panels=new a.PsyclePanelList(i),this.container=new a.PsycleContainer(h),this.stage=new a.PsycleStage(g,this.panels),this.transition=a.PsycleTransition.transitions[this.config.transition],null==this.transition)throw new ReferenceError("'"+this.config.transition+"' is not transition type.");if(this.transition.fallback&&this.transition.fallbackFilter&&this.transition.fallbackFilter()&&(this.transition=a.PsycleTransition.transitions[this.transition.fallback],null==this.transition))throw new ReferenceError("'"+this.config.transition+"' is not transition type.");if((this.config.draggable||this.config.swipeable)&&!jQuery.fn.hammer&&!Hammer)throw new ReferenceError('"Hammer.js" is required when use "draggable" or "swipeable" options.');this.index=+this.config.startIndex||0,this.to=this.index,this.from=this.index,this.repeat=this.config.repeat,this.length=this.panels.length,this.progressIndex=this.index,this._resizeable(),this._init(),this._silent(),this.config.auto&&this.play(),this.panels.on("load",function(){f._load()}),b.data(this.config.instanceKey,this),setTimeout(function(){f._initFinished()},0)}return f(d,c),d.prototype.play=function(){var a=this,b=this.trigger("play");return b&&(this.config.auto=!0,clearTimeout(this.timer),this.timer=setTimeout(function(){a.next()},this.config.delay)),this},d.prototype.stop=function(){return clearTimeout(this.timer),this.isPaused=!0,this},d.prototype.freeze=function(){return this.animation&&this.animation.stop(),this.stop(),this},d.prototype.gotoPanel=function(a,b,c){return void 0===c&&(c=0),this.isTransition?this:(this.transitionTo(a,b,c),this)},d.prototype.prev=function(a){if(this.isTransition)return this;var b=-1;return this.gotoPanel(this.index-1,a,b),this},d.prototype.next=function(a){if(this.isTransition)return this;var b=1;return this.gotoPanel(this.index+1,a,b),this},d.prototype.reflow=function(b){return this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.REFLOW_METHOD,data:b}),this},d.prototype.isFirst=function(){return this._isFirst(this.index)},d.prototype.isLast=function(){return this._isLast(this.index)},d.prototype.marker=function(b,c){var d=this,f=e("<ul />");c=c||a.PsycleEvent.PANEL_CHANGE_END;for(var g=0,h=this.length;h>g;g++){var i=e("<li />");i.appendTo(f),this.panels.item(g).$el.filter(this.config.showOnlyOnce).length&&i.addClass(this.config.showOnlyOnce).hide()}var j=f.find("li");return this.on(c,function(a){j.removeClass(d.config.currentClass),j.eq(a.data.to).addClass(d.config.currentClass)}),j.eq(this.config.startIndex).addClass(this.config.currentClass),j.on("click",function(a){d.gotoPanel(e(a.target).index(),b),a.preventDefault()}),f},d.prototype.marked=function(b){var c=this,d=e.extend({type:"li",duration:null}),f=b[0].nodeName,g=""+d.type;("UL"===f||"OL"===f)&&(g="li");var h;switch(g.toLowerCase()){case"li":case"list":case"ls":case"ul":case"ol":h="li";break;case"i":case"in":case"inline":case"span":h="span";break;default:h="div"}for(var i=e("<"+h+" />"),j=0,k=this.length;k>j;j++){var l=i.clone();l.appendTo(b),this.panels.item(j).$el.filter(this.config.showOnlyOnce).length&&l.addClass(this.config.showOnlyOnce).hide()}var m=b.find(">"+h);m.eq(this.config.startIndex).addClass(this.config.currentClass),this.on(a.PsycleEvent.PANEL_CHANGE_END,function(a){m.removeClass(c.config.currentClass),m.eq(a.data.index).addClass(c.config.currentClass)}),m.on("click",function(a){c.gotoPanel(e(a.target).index(),d.duration),a.preventDefault()})},d.prototype.controller=function(b,c){{var d=this,f=e.extend({prev:".prev",next:".next",duration:null,ifFirstClass:"is-first",ifLastClass:"is-last",ifIgnoreClass:"is-ignore"},c),g=f.prev,h=f.next;e(g),e(h)}b.on("click",g,function(a){d.prev(f.duration),a.preventDefault()}),b.on("click",h,function(a){d.next(f.duration),a.preventDefault()});var i=function(){d.isFirst()?b.addClass(f.ifFirstClass):b.removeClass(f.ifFirstClass),d.isLast()?b.addClass(f.ifLastClass):b.removeClass(f.ifLastClass),d._ignoreIndexes[d.index]?b.addClass(f.ifIgnoreClass):b.removeClass(f.ifIgnoreClass)};this.on(a.PsycleEvent.PANEL_CHANGE_END,i),i()},d.prototype.ctrl=function(a,b){this.controller(a,b)},d.prototype.transitionTo=function(a,b,c,d,f){var g=this;void 0===c&&(c=0),void 0===f&&(f=!1),this.before();var h=e.isNumeric(d)?d:this._optimizeVector(a,c),i=this._optimizeCounter(this.index+h,a);if(f){if(this._ignoreIndexes[i]&&this._times[i]>=1)return this.progressIndex!==i?(this.progressIndex=i,this.transitionTo(a+c,b,0,h+c,f)):this._finaly(),this;this.index===i&&(h=0)}else{for(var j=0;this._ignoreIndexes[i]&&this._times[i]>=1&&j++<50;){if(h=e.isNumeric(d)?d:this._optimizeVector(i+c,c),i=this._optimizeCounter(this.index+h,i+c),this.progressIndex===i)return this._finaly(),this;this.progressIndex=i}if(this.index===i)return this._finaly(),this}return this.duration=b||this.config.duration,this.vector=h,this.from=this.index,this.to=i,this.progressIndex=i,this.config.delayWhenFire?(clearTimeout(this._delayTimer),this._delayTimer=setTimeout(function(){g._fire()},this.config.delayWhenFire)):this._fire(),this.animation.done(function(){g._done()}),this.animation.fail(function(){g._fail()}),this},d.prototype._optimizeVector=function(b,c){var d,e=(b+this.length)%this.length,f=Math.abs(this.index-e),g=this.index<e?1:-1;return this.length-1<=this.index&&this.index<b?g=-1:b<this.index&&this.index<=0&&(g=1),d=this.repeat===a.PsycleRepeat.LOOP?a.Util.getloopSeriesVector(this.index,b,c,this.length):f*g},d.prototype._optimizeCounter=function(b,c){var d;switch(this.repeat){case a.PsycleRepeat.LOOP:d=a.Util.getloopSeriesNumber(b,this.length);break;case a.PsycleRepeat.RETURN:d=(b+this.length)%this.length;break;default:var e=this.length-1;d=0>c?0:c,d=e>d?d:e}return d},d.prototype._isFirst=function(a){for(var b=0;this._ignoreIndexes[b]&&this._times[b]>=1;)b+=1;return a===b},d.prototype._isLast=function(a){for(var b=this.length-1;this._ignoreIndexes[b]&&this._times[b]>=1;)b-=1;return a===b},d.prototype._resizeable=function(){var a,c=this,d=300,f=!1;e(b).on("resize",function(){f||(f=!0,c._resizeStart()),clearTimeout(a),c._resize(),a=setTimeout(function(){c._resizeEnd(),f=!1},d)})},d.prototype._getState=function(){return{index:this.index,stage:this.stage,container:this.container,panel:this.panels.item(this.index),panels:this.panels,stageWidth:this.stageWidth,panelWidth:this.panelWidth,length:this.length,from:this.from,to:this.to,vector:this.vector,isTransition:this.isTransition,isPaused:this.isPaused}},d.prototype._load=function(){this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.LOAD})},d.prototype._init=function(){var b=this;this._times[this.config.startIndex]=1,this.panels.each(function(a,c){b._ignoreIndexes[a]=c.$el.filter(b.config.showOnlyOnce).length?!0:!1}),this.transition.init.call(this),this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.INIT})},d.prototype._initFinished=function(){this.trigger(a.PsycleEvent.INIT,this._getState())},d.prototype._silent=function(){this.transition.silent.call(this),this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.TRANSITION_END}),this.panels.setCurrent(this.index,this.config.currentClass)},d.prototype._before=function(){this.before()},d.prototype.before=function(){this.transition.before.call(this),this.panels.resetCurrent(this.config.currentClass),this.trigger(a.PsycleEvent.PANEL_CHANGE_START_BEFORE,this._getState())},d.prototype._fire=function(){this.isTransition=!0,this.trigger(a.PsycleEvent.PANEL_CHANGE_START,this._getState()),this.transition.fire.call(this)},d.prototype._cancel=function(){this.transition.cancel.call(this)},d.prototype._done=function(){this.index=this.to,this.progressIndex=this.to,this.isTransition=!1,this._after(),this._silent(),this.trigger(a.PsycleEvent.PANEL_CHANGE_END,this._getState()),this._times[this.to]=this._times[this.to]+1||1,this._finaly()},d.prototype._after=function(){this.transition.after.call(this)},d.prototype._fail=function(){this.stop(),this._cancel(),this.isTransition=!1,this.trigger(a.PsycleEvent.PANEL_CHANGE_CANCEL,this._getState()),this._finaly()},d.prototype._finaly=function(){this.config.auto?this.repeat===a.PsycleRepeat.NONE&&this.isLast()?this.stop():this.play():this.stop()},d.prototype._resize=function(){this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.RESIZE})},d.prototype._resizeStart=function(){this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.RESIZE_START}),this.trigger(a.PsycleEvent.RESIZE_START,this._getState()),this.animation&&this.isTransition&&this.freeze()},d.prototype._resizeEnd=function(){this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.RESIZE_END}),this.trigger(a.PsycleEvent.RESIZE_END,this._getState()),this.isPaused&&this.config.auto&&this.gotoPanel(this.to)},d}(a.PsyborgElement);a.Psycle=c}(a||(a={}));var a;!function(a){var b=function(){function a(){}return a.INIT="init",a.PANEL_CHANGE_START_BEFORE="panelChangeStartBefore",a.PANEL_CHANGE_START="panelChangeStart",a.PANEL_CHANGE_END="panelChangeEnd",a.PANEL_CHANGE_CANCEL="panelChangeCancel",a.WAIT_START="waitStart",a.WAIT_END="waitEnd",a.RESIZE_START="resizeStart",a.RESIZE_END="resizeEnd",a}();a.PsycleEvent=b}(a||(a={}));var a;!function(a){var b=function(){function a(){}return a.NONE="none",a.RETURN="return",a.LOOP="loop",a}();a.PsycleRepeat=b}(a||(a={}));var a;!function(a){var b=function(){function a(){}return a.INIT="init",a.TRANSITION_END="transitionEnd",a.RESIZE="resize",a.RESIZE_START="resizeStart",a.RESIZE_END="resizeEnd",a.REFLOW_METHOD="reflowMethod",a.LOAD="load",a}();a.PsycleReflowTiming=b}(a||(a={}));var a;!function(a){var b=function(b){function c(a,c,d){b.call(this,a),this.hasImages=!1,this.loaded=!1,this.index=c,this._list=d,this._loadImageObserve()}return f(c,b),c.prototype.show=function(){return this.$el.show(),this},c.prototype.hide=function(){return this.$el.hide(),this},c.prototype.clone=function(b,c){void 0===b&&(b=!0),void 0===c&&(c=!0);var d=new a.PsyclePanelClone(this.$el.clone(),this.index,this._list);return b&&this.$el.after(d.$el),c&&this._list.addClone(d),d},c.prototype._loadImageObserve=function(){var a=this,b=this.$el.find("img"),c=[];b.length&&(this.hasImages=!0,b.each(function(a,b){var d=e.Deferred(),f=function(){d.resolve()},g=function(){d.resolve()},h=function(){d.resolve()};b.onload=f,b.onerror=h,b.onabort=g,c.push(d.promise())}),e.when.apply(e,c).done(function(){a.loaded=!0,a.trigger("load")}))},c}(a.PsyborgElement);a.PsyclePanel=b}(a||(a={}));var a;!function(a){var b=function(a){function b(b,c,d){a.call(this,b,c,d),b.addClass("-psycle-clone-element"),b.attr("data-psycle-clone-element","true"),b.attr("data-psycle-clone-original-index",""+c)}return f(b,a),b.prototype._loadImageObserve=function(){},b}(a.PsyclePanel);a.PsyclePanelClone=b}(a||(a={}));var a;!function(a){var b=function(b){function c(a){var c=this;b.call(this,a),this._panels=[],this._clones=[],this.length=0;for(var d,f=0,g=a.length;g>f;f++)d=e(a[f]),this.add(d);var h=[];this.each(function(a,b){var c=e.Deferred();b.hasImages&&(b.loaded?c.resolve():b.on("load",function(){c.resolve()}),h.push(c.promise()))}),e.when.apply(e,h).done(function(){c.trigger("load")})}return f(c,b),c.prototype.setCurrent=function(a,b){return this.resetCurrent(b),this.item(a).$el.addClass(b),this},c.prototype.resetCurrent=function(a){return this.$el.removeClass(a),this},c.prototype.add=function(b){var c=this._panels.length,d=new a.PsyclePanel(b,c,this);return this._panels.push(d),this.$el=this.$el.add(b),this.length+=1,this},c.prototype.addClone=function(a){return this._clones.push(a),this},c.prototype.cloneAfter=function(a){return this.clone(a)},c.prototype.cloneBefore=function(a){return this.clone(a,!0)},c.prototype.clone=function(a,b){void 0===b&&(b=!1);for(var c=[],d=e(),f=0,g=a;g>f;f++)this.each(function(a,b){var e=b.clone(!1,!1);c.push(e);var f=e.$el;d=d.add(f)});return b?this.$el.eq(0).before(d):this.$el.eq(-1).after(d),this._clones=this._clones.concat(c),this},c.prototype.remove=function(a,b){return void 0===b&&(b=!0),b&&this.$el.eq(a).remove(),this._panels.splice(a,1),this._renumbering(),this.length-=1,this},c.prototype.item=function(a){var b=this._getRealIndex(a);return this._panels[b]},c.prototype.each=function(a){for(var b=0,c=this._panels.length;c>b;b++){var d=this._panels[b];a.call(d,d.index,d)}return this},c.prototype.show=function(){return this.$el.show(),this},c.prototype.hide=function(){return this.$el.hide(),this},c.prototype.removeClone=function(){for(var a=0,b=this._clones.length;b>a;a++)this._clones[a].$el.remove();return this._clones=[],this},c.prototype.getClones=function(){for(var a=e(),b=0,c=this._clones.length;c>b;b++)a=a.add(this._clones[b].$el);return a},c.prototype._getRealIndex=function(a){var b=this._panels.length;a%=b;var c=0>a?b+a:a;return c},c.prototype._renumbering=function(){for(var a=this._panels.length,b=0;a>b;b++)this._panels[b].index=b;return a},c}(a.PsyborgElement);a.PsyclePanelList=b}(a||(a={}));var a;!function(a){var b=function(a){function b(){a.apply(this,arguments)}return f(b,a),b}(a.PsyborgElement);a.PsycleContainer=b}(a||(a={}));var a;!function(a){var b=function(a){function b(b,c){var d=this;a.call(this,b),this._panels=c,this._panels.on("load",function(){d.trigger("load")})}return f(b,a),b}(a.PsyborgElement);a.PsycleStage=b}(a||(a={}));var a;!function(a){var b=function(){function a(a,b){this.name=a,e.extend(this,b)}return a.create=function(b){for(var c in b){var d=new a(c,b[c]);a.transitions[c]=d}},a.transitions={},a}();a.PsycleTransition=b}(a||(a={}));var a;!function(a){var b=function(){function b(b,c,d){var e=this;this.isDragging=!1,this.isSwiping=!1,this.$el=b.hammer({drag_block_horizontal:!0,tap_always:!1,swipe_velocity:.1}),this.psycle=c,this.config=d,this.$el.find("a, img").hammer({drag_block_horizontal:!0,tap_always:!1}),c.panels.each(function(b,c){var d=c.$el.hammer(),e=d.find("a");if(e.length){e.on("click",function(a){a.preventDefault()});var f=e.prop("href"),g=e.prop("target");f&&d.on("tap",function(){a.Window.linkTo(f,g)})}}),this.$el.on("tap dragstart drag dragend swipeleft swiperight",function(a){switch(a.type){case"tap":e._tap();break;case"dragstart":e._dragstart(a);break;case"drag":e._drag(a);break;case"dragend":e._dragend(a);break;case"swipeleft":e._swipeleft(a);break;case"swiperight":e._swiperight(a)}})}return b.prototype._tap=function(){this.isDragging=!1},b.prototype._dragstart=function(a){this.dragStartTimestamp=a.timeStamp,this.psycle.freeze(),this.dragStartPsycleLeftPosition=this.psycle.container.$el.position().left,this.currentIndex=this.psycle.index},b.prototype._drag=function(a){var b=a.gesture.deltaX,c=this.dragStartPsycleLeftPosition+b;this.isDragging=!0,this.psycle.container.$el.css({left:c})},b.prototype._dragend=function(b){var c=.25,d=b.gesture.deltaX,e=this.psycle.panelWidth,f=this.dragStartPsycleLeftPosition+d,g=this.psycle.cloneCount*this.psycle.length,h=g*e,i=f/e*-1;this.psycle.repeat===a.PsycleRepeat.LOOP&&(i-=g);var j=i-this.psycle.index,k=0;if(j>0)k=j>c?i-c:this.psycle.index;else{if(!(0>j))return;k=-1*c>j?i-c:this.psycle.index}var l=a.Util.roundUp(k-this.psycle.index),m=l*e,n=Math.abs(m-h-f),o=-1*(0===n?0:l>0?1:-1),p=a.Util.getSpeed(n,this.config.duration),q=a.Util.getDuration(n,p),r=this.psycle.index+l;this.isSwiping||0===n||this.psycle.transitionTo(r,q,o,l,!0),this.isSwiping=!1,this.isDragging=!1,this.psycle.isTransition=!1},b.prototype._swipeleft=function(a){if(this.config.swipeable){this.isSwiping=!0,this.psycle.stop();var b=a.timeStamp-this.dragStartTimestamp;this.psycle.next(b)}},b.prototype._swiperight=function(a){if(this.config.swipeable){this.isSwiping=!0,this.psycle.stop();var b=a.timeStamp-this.dragStartTimestamp;this.psycle.prev(b)}},b}();a.PsycleTransition.create({slide:{init:function(){var c=this;a.StyleSheet.posBase(c.stage.$el),a.StyleSheet.posAbs(c.container.$el),a.StyleSheet.posBase(c.panels.$el),a.StyleSheet.floating(c.panels.$el),a.StyleSheet.saveCSS(c.panels.$el),c.config.draggable&&new b(c.stage.$el,c,c.config)},reflow:function(b){var c=this;switch(b.timing){case a.PsycleReflowTiming.TRANSITION_END:var d=c.panelWidth*c.index*-1+c.cloneCount*c.panelWidth*c.length*-1;c.container.$el.css({left:d});break;case a.PsycleReflowTiming.RESIZE_END:c.cloneCount=0,c.panels.removeClone();case a.PsycleReflowTiming.RESIZE_START:case a.PsycleReflowTiming.INIT:case a.PsycleReflowTiming.LOAD:var e=c.panels.$el,f=c.container.$el;a.StyleSheet.cleanCSS(e),a.StyleSheet.posBase(e),a.StyleSheet.floating(e),a.StyleSheet.cleanCSS(f),a.StyleSheet.posAbs(f);var g=e.width(),h=e.outerWidth(!0);c.panelWidth=h,c.stageWidth=c.stage.$el.width(),e.width(g),c.panels.getClones().width(g);var i=h*c.length;if(c.repeat===a.PsycleRepeat.LOOP){var j=c.stageWidth/i,k=Math.ceil(j/2)+1;1/0===k&&(k=c.cloneCount+1),c.cloneCount<k&&(c.panels.removeClone(),c.panels.cloneBefore(k),c.panels.cloneAfter(k),c.cloneCount=k),i=c.panelWidth*c.length*(2*c.cloneCount+1)}var d=c.panelWidth*c.index*-1+c.cloneCount*c.panelWidth*c.length*-1;if(f.css({width:i,left:d}),c.config.resizable){var l;switch(c.config.dimension){case"max":l=c.panels.getMaxHeight();break;case"min":l=c.panels.getMinHeight();break;default:l=c.panels.getHeight()}c.stage.setHeight(l)}}},silent:function(){},before:function(){},fire:function(){var a=this;a.animation&&a.animation.stop();var b=a.duration||a.config.duration,c=a.panelWidth*(a.index+a.vector)*-1+a.cloneCount*a.panelWidth*a.length*-1;a.animation=e.Animation(a.container.$el[0],{left:c},{duration:b,easing:a.config.easing})},cancel:function(){},after:function(){}}})}(a||(a={}));var a;!function(a){a.PsycleTransition.create({fade:{init:function(){var b=this;a.StyleSheet.posBase(b.container.$el),a.StyleSheet.posAbs(b.panels.$el)},reflow:function(b){var c=this;switch(b.timing){case a.PsycleReflowTiming.TRANSITION_END:case a.PsycleReflowTiming.RESIZE_START:case a.PsycleReflowTiming.RESIZE_END:case a.PsycleReflowTiming.LOAD:c.config.resizable&&c.stage.$el.height(c.panels.$el.height()),a.StyleSheet.z(c.panels.$el,0),a.StyleSheet.z(c.panels.item(c.to).$el,10),c.panels.$el.css({opacity:0}),c.panels.item(c.to).$el.css({opacity:1})}},silent:function(){},before:function(){},fire:function(){var b=this;b.panels.item(b.to).$el.css({opacity:0}),a.StyleSheet.z(b.panels.item(b.to).$el,20),b.animation&&b.animation.stop(),b.animation=e.Animation(b.panels.item(b.to).$el[0],{opacity:1},{duration:b.config.duration}),b.config.crossFade&&e.Animation(b.panels.item(b.from).$el[0],{opacity:0},{duration:b.config.duration})},cancel:function(){},after:function(){var a=this;a.panels.$el.css({opacity:0}),a.panels.item(a.to).$el.css({opacity:1})}}})}(a||(a={}));var a;!function(a){var b={width:0,height:0,scale:1};a.PsycleTransition.create({fadeSVG:{fallback:"fade",fallbackFilter:function(){return!c.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},init:function(){var b=this,d=b.getWidth(),f=b.getHeight();b.container.$el.hide();var g=c.createElementNS("http://www.w3.org/2000/svg","svg");g.setAttribute("width",""+d),g.setAttribute("height",""+f),e(g).css("display","block");var h=c.createElementNS("http://www.w3.org/2000/svg","g");g.appendChild(h);var i=e();b.panels.each(function(a,b){var g=b.$el.find("img").attr("src"),j=c.createElementNS("http://www.w3.org/2000/svg","image");j.setAttributeNS("http://www.w3.org/1999/xlink","href",g),j.setAttribute("width",""+d),j.setAttribute("height",""+f),j.setAttribute("visibility","visible"),j.setAttribute("data-index",""+a),h.appendChild(j),i=i.add(e(j))}),b.container=new a.PsycleContainer(e(h)),b.panels=new a.PsyclePanelList(i),b.stage.el.appendChild(g)},reflow:function(c){var d=this;switch(c.timing){case a.PsycleReflowTiming.TRANSITION_END:case a.PsycleReflowTiming.RESIZE_END:case a.PsycleReflowTiming.LOAD:if(d.config.resizable){var e=d.stage.el.getBoundingClientRect(),f=e.width,g=e.height;b.width&&b.height?(g=b.height/b.width*f,b.scale=f/b.width):(b.width=f,b.height=g);var h=d.container.$el.closest("svg")[0];h.setAttribute("width",""+f),h.setAttribute("height",""+g),d.panels.$el.attr({width:f,height:g})}var i=d.panels.item(d.to);i.$el.appendTo(d.container.$el),i.$el.css({opacity:1});break;case a.PsycleReflowTiming.RESIZE_START:}},silent:function(){},before:function(){},fire:function(){var a=this,b=a.panels.item(a.to),c=a.panels.item(a.from);a.animation&&a.animation.stop(),b.$el.appendTo(a.container.$el),b.$el.css({opacity:0}),a.animation=e.Animation(b.$el[0],{opacity:1},{duration:a.config.duration}),a.config.crossFade&&e.Animation(c.$el[0],{opacity:0},{duration:a.config.duration})},cancel:function(){},after:function(){}}})}(a||(a={})),e.fn.psycle=function(b){return 0===this.length&&console&&console.warn&&console.warn("This jQuery object is empty."),this.each(function(){new a.Psycle(e(this),b)})},e.Psycle=a.Psycle,e.PsycleEvent=a.PsycleEvent,e.PsycleRepeat=a.PsycleRepeat,e.PsycleReflowTiming=a.PsycleReflowTiming,b.psyborg=b.psyborg||a}).call(this);