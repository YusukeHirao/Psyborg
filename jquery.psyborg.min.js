/**
 * Psyborg.js - v0.8.0 r888
 * update: 2014-10-31
 * Author: Yusuke Hirao [http://www.yusukehirao.com]
 * Github: https://github.com/YusukeHirao/Psyborg
 * License: Licensed under the MIT License
 * Require: jQuery v1.11.0 or later
 */

(function(){"use strict";var a,b=this,c=(b.document,b.location),d=jQuery;!function(a){var b=function(){function a(){}return a.getSpeed=function(a,b){return a/b},a.getDuration=function(a,b){return a/b},a.getDistance=function(a,b){return a*b},a.getloopSeriesNumber=function(a,b){var c;return c=a%b,0===c?c:(0>a&&(c=b+Math.abs(a)%b*-1),c)},a.getloopSeriesVector=function(b,c,d,e){var f,g,h,i,j=0/0;if(0!==d&&1!==d&&-1!==d)throw new RangeError("`direction` is must 1 or -1 or zero.");return 0===d?(b=a.getloopSeriesNumber(b,e),c=a.getloopSeriesNumber(c,e),j=c>b?c-e:c+e,g=Math.abs(c-b),h=Math.abs(j-b),i=Math.min(g,h),f=g===i?b>c?-1*g:g:b>j?-1*h:h):b===c?f=e*d:c>b&&-1===d?(c=a.getloopSeriesNumber(c,e),j=c-e,f=j-b):b>c&&1===d?(c=a.getloopSeriesNumber(c,e),j=c+e,f=j-b):f=c-b,f},a.roundDown=function(a){return parseInt(""+a,10)},a.roundUp=function(a){var b;return b=a>0?Math.ceil(a):-1*Math.ceil(-1*a)},a}();a.Util=b}(a||(a={}));var a;!function(a){var b=function(){function a(a){this.defaultPrevented=!1,this.type=a,this.timeStamp=(new Date).valueOf()}return a.prototype.preventDefault=function(){this.defaultPrevented=!0},a}();a.PsyborgEvent=b}(a||(a={}));var a;!function(a){var b=function(){function b(){this._listeners={}}return b.prototype.on=function(a,b){for(var c=a.split(/\s+/),d=0,e=c.length;e>d;d++)this._listeners[c[d]]||(this._listeners[c[d]]=[]),this._listeners[c[d]].push(b)},b.prototype.off=function(a,b){for(var c,d=a.split(/\s+/),e=0,f=d.length;f>e;e++)c=d[e],(null==b||this._listeners[c]===b)&&delete this._listeners[c]},b.prototype.trigger=function(b,c,d){"undefined"==typeof c&&(c={}),"undefined"==typeof d&&(d=this);var e,f,g=0;if(this._listeners[b])for(f=this._listeners[b].length;f>g;g++){e=this._listeners[b][g];var h=new a.PsyborgEvent(b);if(h.data=c,e.call(d,h),h.defaultPrevented)return!1}return!0},b}();a.PsyborgEventDispacther=b}(a||(a={}));var a,e=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c};!function(a){var b=function(a){function b(b){if(a.call(this),!b.length)throw new ReferenceError('This jQuery object is empty. Selector "'+b.selector+"\" doesn't exist.");this.$el=b}return e(b,a),b.prototype.trigger=function(b,c,d){"undefined"==typeof c&&(c={}),"undefined"==typeof d&&(d=this);var e=a.prototype.trigger.call(this,b,c,d);return e&&this.$el.trigger(b,c,d),e},b.prototype.getWidth=function(){return this.$el.width()},b.prototype.getHeight=function(){return this.$el.height()},b.prototype.setWidth=function(a){return this.$el.width(a),this},b.prototype.setHeight=function(a){return this.$el.height(a),this},b}(a.PsyborgEventDispacther);a.PsyborgElement=b}(a||(a={}));var a;!function(a){var d=function(){function a(){}return a.linkTo=function(a,d){switch("undefined"==typeof d&&(d=""),d){case"_blank":b.open(a,null);break;default:c.href=a}},a}();a.Window=d}(a||(a={}));var a;!function(a){var b=function(){function a(){}return a.posAbs=function(a,b,c){return"undefined"==typeof b&&(b=0),"undefined"==typeof c&&(c=0),a.css({position:"absolute",top:b,left:c})},a.posBase=function(a){var b=a.css("position");return(null==b||"static"===b||""===b)&&a.css({position:"relative"}),a},a.z=function(a,b){return"undefined"==typeof b&&(b=0),a.css({zIndex:b}),a},a.floating=function(a,b){return"undefined"==typeof b&&(b=!0),a.css({"float":b?"left":"none"}),a},a.isOverflowHidden=function(a){return"hidden"===a.css("overflow").toLowerCase()},a.saveCSS=function(a){a.each(function(a,b){var c=d(b);c.data("originStyle",c.attr("style"))})},a.restoreCSS=function(a){a.each(function(a,b){var c=d(b);c.attr("style",c.data("originStyle"))})},a.cleanCSS=function(a){a.each(function(a,b){var c=d(b);c.attr("style","")})},a}();a.StyleSheet=b}(a||(a={}));var a;!function(a){var c=function(c){function f(b,e){var f=this;c.call(this,b),this.index=0,this.vector=0,this.isTransition=!1,this.isPaused=!1,this.cloneCount=0,this._times=[],this._ignoreIndexes=[];var g={instanceKey:"psycle",startIndex:0,transition:"slide",duration:600,easing:"swing",delay:3e3,auto:!0,cancel:!0,repeat:a.PsycleRepeat.RETURN,container:">ul:eq(0)",panels:">li",currentClass:"current",delayWhenFire:0,clone:2,cols:1,rows:1,offsetX:0,offsetY:0,nearby:!1,innerFocus:!1,noFocus:!0,resizable:!1,draggable:!1,swipeable:!1,dragBlockVertical:!1,bindKeyboard:!1,showOnlyOnce:".once",controller:null,marker:null,thumbnail:null,css3:!0,loopCloneLength:null,scenes:[]};this._config=d.extend(g,e);var h=b,i=h.find(this._config.container),j=i.find(this._config.panels);if(this.panels=new a.PsyclePanelList(j),this.container=new a.PsycleContainer(i),this.stage=new a.PsycleStage(h,this.panels),this.transition=a.PsycleTransition.transitions[this._config.transition],null==this.transition)throw new ReferenceError("'"+this._config.transition+"' is not transition type");if((this._config.draggable||this._config.swipeable)&&!jQuery.fn.hammer&&!Hammer)throw new ReferenceError('"Hammer.js" is required when use "draggable" or "swipeable" options.');this.index=+this._config.startIndex||0,this.to=this.index,this.from=this.index,this.repeat=(""+this._config.repeat).toLowerCase(),this.length=this.panels.length,this.progressIndex=this.index,this._resizeable(),this._init(),this._silent(),this._config.auto&&this.play(),this.panels.on("load",function(){f._load()}),b.data(this._config.instanceKey,this)}return e(f,c),f.prototype.play=function(){var a=this,b=this.trigger("play");return b&&(this._config.auto=!0,clearTimeout(this.timer),this.timer=setTimeout(function(){a.next()},this._config.delay)),this},f.prototype.stop=function(){return clearTimeout(this.timer),this.isPaused=!0,this},f.prototype.freeze=function(){return this.animation&&this.animation.stop(),this.stop(),this},f.prototype.gotoPanel=function(a,b,c){return"undefined"==typeof c&&(c=0),this.isTransition?this:(this.transitionTo(a,b,c),this)},f.prototype.prev=function(a){if(this.isTransition)return this;var b=-1;return this.gotoPanel(this.index-1,a,b),this},f.prototype.next=function(a){if(this.isTransition)return this;var b=1;return this.gotoPanel(this.index+1,a,b),this},f.prototype.reflow=function(b){return this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.REFLOW_METHOD,data:b}),this},f.prototype.isFirst=function(){return this._isFirst(this.index)},f.prototype.isLast=function(){return this._isLast(this.index)},f.prototype.marker=function(b,c){var e,f=this,g=d("<ul />"),h=0,i=this.length;for(c=c||a.PsycleEvent.PANEL_CHANGE_END;i>h;h++)e=d("<li />"),e.appendTo(g),this.panels.item(h).$el.filter(this._config.showOnlyOnce).length&&e.addClass(this._config.showOnlyOnce).hide();var j=g.find("li");return this.on(c,function(a){j.removeClass(f._config.currentClass),j.eq(a.data.index).addClass(f._config.currentClass)}),j.eq(this._config.startIndex).addClass(this._config.currentClass),j.on("click",function(a){f.gotoPanel(d(a.target).index(),b),a.preventDefault()}),g},f.prototype.marked=function(b){var c,e,f,g,h=this,i=d.extend({type:"li",duration:null}),j=""+i.type,k=b[0].nodeName,l=0,m=this.length;switch(("UL"===k||"OL"===k)&&(j="li"),j.toLowerCase()){case"li":case"list":case"ls":case"ul":case"ol":c="li";break;case"i":case"in":case"inline":case"span":c="span";break;default:c="div"}for(e=d("<"+c+" />");m>l;l++)f=e.clone(),f.appendTo(b),this.panels.item(l).$el.filter(this._config.showOnlyOnce).length&&f.addClass(this._config.showOnlyOnce).hide();g=b.find(">"+c),g.eq(this._config.startIndex).addClass(this._config.currentClass),this.on(a.PsycleEvent.PANEL_CHANGE_END,function(a){g.removeClass(h._config.currentClass),g.eq(a.data.index).addClass(h._config.currentClass)}),g.on("click",function(a){h.gotoPanel(d(a.target).index(),i.duration),a.preventDefault()})},f.prototype.controller=function(b,c){{var e=this,f=d.extend({prev:".prev",next:".next",duration:null,ifFirstClass:"is-first",ifLastClass:"is-last",ifIgnoreClass:"is-ignore"},c),g=f.prev,h=f.next;d(g),d(h)}b.on("click",g,function(a){e.prev(f.duration),a.preventDefault()}),b.on("click",h,function(a){e.next(f.duration),a.preventDefault()});var i=function(){e.isFirst()?b.addClass(f.ifFirstClass):b.removeClass(f.ifFirstClass),e.isLast()?b.addClass(f.ifLastClass):b.removeClass(f.ifLastClass),e._ignoreIndexes[e.index]?b.addClass(f.ifIgnoreClass):b.removeClass(f.ifIgnoreClass)};this.on(a.PsycleEvent.PANEL_CHANGE_END,i),i()},f.prototype.ctrl=function(a,b){this.controller(a,b)},f.prototype.transitionTo=function(a,b,c,e,f){var g=this;"undefined"==typeof c&&(c=0),"undefined"==typeof f&&(f=!1),this.before();var h,i;if(h=d.isNumeric(e)?e:this._optimizeVector(a,c),i=this._optimizeCounter(this.index+h,a),f){if(this._ignoreIndexes[i]&&this._times[i]>=1)return this.progressIndex!==i?(this.progressIndex=i,this.transitionTo(a+c,b,0,h+c,f)):this._finaly(),this;this.index===i&&(h=0)}else{for(var j=0;this._ignoreIndexes[i]&&this._times[i]>=1&&j++<50;){if(h=d.isNumeric(e)?e:this._optimizeVector(i+c,c),i=this._optimizeCounter(this.index+h,i+c),this.progressIndex===i)return this._finaly(),this;this.progressIndex=i}if(this.index===i)return this._finaly(),this}return this.duration=b||this._config.duration,this.vector=h,this.from=this.index,this.to=i,this.progressIndex=i,this._config.delayWhenFire?(clearTimeout(this._delayTimer),this._delayTimer=setTimeout(function(){g._fire()},this._config.delayWhenFire)):this._fire(),this.animation.done(function(){g._done()}),this.animation.fail(function(){g._fail()}),this},f.prototype._optimizeVector=function(b,c){var d,e=(b+this.length)%this.length,f=this.index<e?1:-1,g=Math.abs(this.index-e);return this.length-1<=this.index&&this.index<b?f=-1:b<this.index&&this.index<=0&&(f=1),d=this.repeat===a.PsycleRepeat.LOOP?a.Util.getloopSeriesVector(this.index,b,c,this.length):g*f},f.prototype._optimizeCounter=function(b,c){var d,e=this.length-1;switch(this.repeat){case a.PsycleRepeat.LOOP:d=a.Util.getloopSeriesNumber(b,this.length);break;case a.PsycleRepeat.RETURN:d=(b+this.length)%this.length;break;default:d=0>c?0:c,d=e>d?d:e}return d},f.prototype._isFirst=function(a){for(var b=0;this._ignoreIndexes[b]&&this._times[b]>=1;)b+=1;return a===b},f.prototype._isLast=function(a){for(var b=this.length-1;this._ignoreIndexes[b]&&this._times[b]>=1;)b-=1;return a===b},f.prototype._resizeable=function(){var a,c=this,e=300,f=!1;d(b).on("resize",function(){f||(f=!0,c._resizeStart()),clearTimeout(a),c._resize(),a=setTimeout(function(){c._resizeEnd(),f=!1},e)})},f.prototype._getState=function(){return{index:this.index,stage:this.stage,container:this.container,panel:this.panels.item(this.index),panels:this.panels,stageWidth:this.stageWidth,panelWidth:this.panelWidth,length:this.length,from:this.from,to:this.to,vector:this.vector,isTransition:this.isTransition,isPaused:this.isPaused}},f.prototype._load=function(){this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.LOAD})},f.prototype._init=function(){var b=this;this._times[this._config.startIndex]=1,this.panels.each(function(a,c){b._ignoreIndexes[a]=c.$el.filter(b._config.showOnlyOnce).length?!0:!1}),this.transition.init.call(this),this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.INIT}),this.trigger(a.PsycleEvent.INIT,this._getState())},f.prototype._silent=function(){this.transition.silent.call(this),this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.TRANSITION_END}),this.panels.setCurrent(this.index,this._config.currentClass)},f.prototype._before=function(){this.before()},f.prototype.before=function(){this.transition.before.call(this),this.panels.resetCurrent(this._config.currentClass),this.trigger(a.PsycleEvent.PANEL_CHANGE_START,this._getState())},f.prototype._fire=function(){this.isTransition=!0,this.transition.fire.call(this)},f.prototype._cancel=function(){this.transition.cancel.call(this)},f.prototype._done=function(){this.index=this.to,this.progressIndex=this.to,this.isTransition=!1,this._after(),this._silent(),this.trigger(a.PsycleEvent.PANEL_CHANGE_END,this._getState()),this._times[this.to]=this._times[this.to]+1||1,this._finaly()},f.prototype._after=function(){this.transition.after.call(this)},f.prototype._fail=function(){this.stop(),this._cancel(),this.isTransition=!1,this.trigger(a.PsycleEvent.PANEL_CHANGE_CANCEL,this._getState()),this._finaly()},f.prototype._finaly=function(){this._config.auto?this.repeat===a.PsycleRepeat.NONE&&this.isLast()?this.stop():this.play():this.stop()},f.prototype._resize=function(){this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.RESIZE})},f.prototype._resizeStart=function(){this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.RESIZE_START}),this.animation&&this.isTransition&&this.freeze()},f.prototype._resizeEnd=function(){this.transition.reflow.call(this,{timing:a.PsycleReflowTiming.RESIZE_END}),this.isPaused&&this._config.auto&&this.gotoPanel(this.to)},f}(a.PsyborgElement);a.Psycle=c}(a||(a={}));var a;!function(a){var b=function(){function a(){}return a.INIT="init",a.PANEL_CHANGE_START="panelChangeStart",a.PANEL_CHANGE_END="panelChangeEnd",a.PANEL_CHANGE_CANCEL="panelChangeCancel",a.WAIT_START="waitStart",a.WAIT_END="waitEnd",a}();a.PsycleEvent=b}(a||(a={}));var a;!function(a){var b=function(){function a(){}return a.NONE="none",a.RETURN="return",a.LOOP="loop",a}();a.PsycleRepeat=b}(a||(a={}));var a;!function(a){var b=function(){function a(){}return a.INIT="init",a.TRANSITION_END="transitionEnd",a.RESIZE="resize",a.RESIZE_START="resizeStart",a.RESIZE_END="resizeEnd",a.REFLOW_METHOD="reflowMethod",a.LOAD="load",a}();a.PsycleReflowTiming=b}(a||(a={}));var a;!function(a){var b=function(b){function c(a,c,d){b.call(this,a),this.hasImages=!1,this.loaded=!1,this.index=c,this._list=d,this._loadImageObserve()}return e(c,b),c.prototype.show=function(){return this.$el.show(),this},c.prototype.hide=function(){return this.$el.hide(),this},c.prototype.clone=function(b,c){"undefined"==typeof b&&(b=!0),"undefined"==typeof c&&(c=!0);var d=new a.PsyclePanelClone(this.$el.clone(),this.index,this._list);return b&&this.$el.after(d.$el),c&&this._list.addClone(d),d},c.prototype._loadImageObserve=function(){var a=this,b=this.$el.find("img"),c=[];b.length&&(this.hasImages=!0,b.each(function(a,b){var e=d.Deferred(),f=function(){e.resolve()},g=function(){e.resolve()},h=function(){e.resolve()};b.onload=f,b.onerror=h,b.onabort=g,c.push(e.promise())}),d.when.apply(d,c).done(function(){a.loaded=!0,a.trigger("load")}))},c}(a.PsyborgElement);a.PsyclePanel=b}(a||(a={}));var a;!function(a){var b=function(a){function b(b,c,d){a.call(this,b,c,d),b.addClass("-psycle-clone-element"),b.attr("data-psycle-clone-element","true"),b.attr("data-psycle-clone-original-index",""+c)}return e(b,a),b.prototype._loadImageObserve=function(){},b}(a.PsyclePanel);a.PsyclePanelClone=b}(a||(a={}));var a;!function(a){var b=function(b){function c(a){var c=this;b.call(this,a),this._panels=[],this._$panels=d(),this._clones=[],this.length=0;for(var e,f=0,g=a.length;g>f;f++)e=d(a[f]),this.add(e);var h=[];this.each(function(a,b){var c=d.Deferred();b.hasImages&&(b.loaded?c.resolve():b.on("load",function(){c.resolve()}),h.push(c.promise()))}),d.when.apply(d,h).done(function(){c.trigger("load")})}return e(c,b),c.prototype.setCurrent=function(a,b){return this.resetCurrent(b),this.item(a).$el.addClass(b),this},c.prototype.resetCurrent=function(a){return this.$el.removeClass(a),this},c.prototype.add=function(b){var c=this._panels.length,d=new a.PsyclePanel(b,c,this);return this._panels.push(d),this.$el=this.$el.add(b),this.length+=1,this},c.prototype.addClone=function(a){return this._clones.push(a),this},c.prototype.cloneAfter=function(a){return this.clone(a)},c.prototype.cloneBefore=function(a){return this.clone(a,!0)},c.prototype.clone=function(a,b){"undefined"==typeof b&&(b=!1);var c,e,f=[],g=d(),h=0,i=a;for(h;i>h;h++)this.each(function(a,b){c=b.clone(!1,!1),f.push(c),e=c.$el,g=g.add(e)});return b?this.$el.eq(0).before(g):this.$el.eq(-1).after(g),this._clones=this._clones.concat(f),this},c.prototype.remove=function(a,b){return"undefined"==typeof b&&(b=!0),b&&this.$el.eq(a).remove(),this._panels.splice(a,1),this._renumbering(),this.length-=1,this},c.prototype.item=function(a){var b=this._getRealIndex(a);return this._panels[b]},c.prototype.each=function(a){for(var b,c=0,d=this._panels.length;d>c;c++)b=this._panels[c],a.call(b,b.index,b);return this},c.prototype.show=function(){return this.$el.show(),this},c.prototype.hide=function(){return this.$el.hide(),this},c.prototype.removeClone=function(){for(var a=0,b=this._clones.length;b>a;a++)this._clones[a].$el.remove();return this._clones=[],this},c.prototype.getClones=function(){for(var a=d(),b=0,c=this._clones.length;c>b;b++)a=a.add(this._clones[b].$el);return a},c.prototype._getRealIndex=function(a){var b=this._panels.length;a%=b;var c=0>a?b+a:a;return c},c.prototype._renumbering=function(){for(var a=0,b=this._panels.length;b>a;a++)this._panels[a].index=a;return b},c}(a.PsyborgElement);a.PsyclePanelList=b}(a||(a={}));var a;!function(a){var b=function(a){function b(){a.apply(this,arguments)}return e(b,a),b}(a.PsyborgElement);a.PsycleContainer=b}(a||(a={}));var a;!function(a){var b=function(a){function b(b,c){var d=this;a.call(this,b),this._panels=c,this._panels.on("load",function(){d.trigger("load")})}return e(b,a),b}(a.PsyborgElement);a.PsycleStage=b}(a||(a={}));var a;!function(a){var b=function(){function a(a,b){this.name=a,d.extend(this,b)}return a.create=function(b){var c,d;for(c in b)d=new a(c,b[c]),a.transitions[c]=d},a.transitions={},a}();a.PsycleTransition=b}(a||(a={}));var a;!function(a){var b=function(){function b(b,c,d){var e=this;this.isDragging=!1,this.isSwiping=!1,this.$el=b.hammer({drag_block_horizontal:!0,tap_always:!1,swipe_velocity:.1}),this.psycle=c,this.config=d,this.$el.find("a, img").hammer({drag_block_horizontal:!0,tap_always:!1}),c.panels.each(function(b,c){var d,e,f=c.$el.hammer(),g=f.find("a");g.length&&(g.on("click",function(a){a.preventDefault()}),d=g.prop("href"),e=g.prop("target"),d&&f.on("tap",function(){a.Window.linkTo(d,e)}))}),this.$el.on("tap dragstart drag dragend swipeleft swiperight",function(a){switch(a.type){case"tap":e._tap();break;case"dragstart":e._dragstart(a);break;case"drag":e._drag(a);break;case"dragend":e._dragend(a);break;case"swipeleft":e._swipeleft(a);break;case"swiperight":e._swiperight(a)}})}return b.prototype._tap=function(){this.isDragging=!1},b.prototype._dragstart=function(a){this.dragStartTimestamp=a.timeStamp,this.psycle.freeze(),this.dragStartPsycleLeftPosition=this.psycle.container.$el.position().left,this.currentIndex=this.psycle.index},b.prototype._drag=function(a){var b=a.gesture.deltaX,c=this.dragStartPsycleLeftPosition+b;this.isDragging=!0,this.psycle.container.$el.css({left:c})},b.prototype._dragend=function(b){var c=.25,d=b.gesture.deltaX,e=this.psycle.panelWidth,f=this.dragStartPsycleLeftPosition+d,g=this.psycle.cloneCount*this.psycle.length,h=g*e,i=f/e*-1;this.psycle.repeat===a.PsycleRepeat.LOOP&&(i-=g);var j=i-this.psycle.index,k=0;if(j>0)k=j>c?i-c:this.psycle.index;else{if(!(0>j))return;k=-1*c>j?i-c:this.psycle.index}var l=a.Util.roundUp(k-this.psycle.index),m=l*e,n=Math.abs(m-h-f),o=-1*(0===n?0:l>0?1:-1),p=a.Util.getSpeed(n,this.config.duration),q=a.Util.getDuration(n,p),r=this.psycle.index+l;this.isSwiping||0===n||this.psycle.transitionTo(r,q,o,l,!0),this.isSwiping=!1,this.isDragging=!1,this.psycle.isTransition=!1},b.prototype._swipeleft=function(a){var b=a.timeStamp-this.dragStartTimestamp;this.config.swipeable&&(this.isSwiping=!0,this.psycle.stop(),this.psycle.next(b))},b.prototype._swiperight=function(a){var b=a.timeStamp-this.dragStartTimestamp;this.config.swipeable&&(this.isSwiping=!0,this.psycle.stop(),this.psycle.prev(b))},b}();a.PsycleTransition.create({slide:{init:function(){a.StyleSheet.posBase(this.stage.$el),a.StyleSheet.posAbs(this.container.$el),a.StyleSheet.posBase(this.panels.$el),a.StyleSheet.floating(this.panels.$el),a.StyleSheet.saveCSS(this.panels.$el);this.panels.$el;this._config.draggable&&new b(this.stage.$el,this,this._config)},reflow:function(b){var c,d,c,e,f,g,h,i,j=0;switch(b.timing){case a.PsycleReflowTiming.TRANSITION_END:c=this.panelWidth*this.index*-1+this.cloneCount*this.panelWidth*this.length*-1,this.container.$el.css({left:c});break;case a.PsycleReflowTiming.RESIZE_END:this.cloneCount=0,this.panels.removeClone();case a.PsycleReflowTiming.RESIZE_START:case a.PsycleReflowTiming.INIT:case a.PsycleReflowTiming.LOAD:h=this.panels.$el,i=this.container.$el,a.StyleSheet.cleanCSS(h),a.StyleSheet.posBase(h),a.StyleSheet.floating(h),a.StyleSheet.cleanCSS(i),a.StyleSheet.posAbs(i),f=h.width(),g=h.outerWidth(!0),this.panelWidth=g,this.stageWidth=this.stage.$el.width(),h.width(f),this.panels.getClones().width(f),d=g*this.length,this.repeat===a.PsycleRepeat.LOOP&&(e=this.stageWidth/d,j=Math.ceil(e/2)+1,this.cloneCount<j&&(this.panels.removeClone(),this.panels.cloneBefore(j),this.panels.cloneAfter(j),this.cloneCount=j),d=this.panelWidth*this.length*(2*this.cloneCount+1)),c=this.panelWidth*this.index*-1+this.cloneCount*this.panelWidth*this.length*-1,i.css({width:d,left:c}),this._config.resizable&&this.stage.setHeight(this.panels.getHeight())}},silent:function(){},before:function(){},fire:function(){var a,b=this.duration||this._config.duration;this.animation&&this.animation.stop(),a=this.panelWidth*(this.index+this.vector)*-1+this.cloneCount*this.panelWidth*this.length*-1,this.animation=d.Animation(this.container.$el[0],{left:a},{duration:b,easing:this._config.easing})},cancel:function(){},after:function(){}}})}(a||(a={}));var a;!function(a){a.PsycleTransition.create({fade:{init:function(){a.StyleSheet.posBase(this.container.$el),a.StyleSheet.posAbs(this.panels.$el)},reflow:function(b){switch(b.timing){case a.PsycleReflowTiming.TRANSITION_END:case a.PsycleReflowTiming.RESIZE_START:case a.PsycleReflowTiming.RESIZE_END:case a.PsycleReflowTiming.LOAD:this._config.resizable&&this.stage.$el.height(this.panels.$el.height()),a.StyleSheet.z(this.panels.$el,0),a.StyleSheet.z(this.panels.item(this.to).$el,10),this.panels.$el.css({opacity:0}),this.panels.item(this.to).$el.css({opacity:1})}},silent:function(){},before:function(){},fire:function(){this.panels.item(this.to).$el.css({opacity:0}),a.StyleSheet.z(this.panels.item(this.to).$el,20),this.animation&&this.animation.stop(),this.animation=d.Animation(this.panels.item(this.to).$el[0],{opacity:1},{duration:this._config.duration}),d.Animation(this.panels.item(this.from).$el[0],{opacity:0},{duration:this._config.duration})},cancel:function(){},after:function(){this.panels.$el.css({opacity:0}),this.panels.item(this.to).$el.css({opacity:1})}}})}(a||(a={})),d.fn.psycle=function(b){return 0===this.length&&console&&console.warn&&console.warn("This jQuery object is empty."),this.each(function(){new a.Psycle(d(this),b)})},d.Psycle=a.Psycle,d.PsycleEvent=a.PsycleEvent,d.PsycleRepeat=a.PsycleRepeat,d.PsycleReflowTiming=a.PsycleReflowTiming}).call(this);